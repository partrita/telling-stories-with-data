<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; 소방 호스에서 마시기 – 데이터로 이야기하기</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03-workflow_ko.html" rel="next">
<link href="./01-introduction_ko.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b22ef3f334bfc3d7f06e555e13679c65.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "일치 없음",
    "search-matching-documents-text": "일치된 문서",
    "search-copy-link-title": "검색 링크 복사",
    "search-hide-matches-text": "추가 검색 결과 숨기기",
    "search-more-match-text": "추가 검색결과",
    "search-more-matches-text": "추가 검색결과",
    "search-clear-button-title": "제거",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "취소",
    "search-submit-button-title": "검색",
    "search-label": "검색"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-introduction_ko.html">기초</a></li><li class="breadcrumb-item"><a href="./02-drinking_from_a_fire_hose_ko.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">소방 호스에서 마시기</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="검색" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">데이터로 이야기하기</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/RohanAlexander/telling_stories/" title="소스 코드" class="quarto-navigation-tool px-1" aria-label="소스 코드"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="검색"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">서문</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-errata_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">오류 및 업데이트</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">기초</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-introduction_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">데이터로 이야기하기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-drinking_from_a_fire_hose_ko.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">소방 호스에서 마시기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-workflow_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">재현 가능한 워크플로우</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">소통</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-writing_research_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">연구 작성</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-graphs_tables_maps_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">그래프, 표, 지도</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">획득</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-farm_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">측정, 인구 조사, 표본 추출</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-gather_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">API, 스크래핑, 파싱</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-hunt_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">실험 및 설문 조사</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">준비</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-clean_and_prepare_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">정리, 준비 및 테스트</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-store_and_share_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">저장 및 공유</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-eda_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">탐색적 데이터 분석</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">모델링</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-ijalm_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">선형 모델</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-ijaglm_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">일반화 선형 모델</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-prediction_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">예측</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">적용</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-causality_from_obs_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">관찰 데이터에서 인과 관계</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-mrp_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">사후 층화 다단계 회귀</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16-text_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">데이터로서의 텍스트</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17-concluding_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">17-concluding_ko.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">부록</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20-r_essentials_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">R 필수 사항</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21-python_essentials_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Python 필수 사항</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./22-sql_essentials_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">SQL 필수</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./23-datasets_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">데이터셋</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./24-rmarkdown_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">R 마크다운</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./25-papers_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">논문</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./26-deploy_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">생산</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./98-cocktails_ko.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">H</span>&nbsp; <span class="chapter-title">칵테일</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./99-references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">목차</h2>
   
  <ul>
  <li><a href="#안녕하세요-세상" id="toc-안녕하세요-세상" class="nav-link active" data-scroll-target="#안녕하세요-세상"><span class="header-section-number">2.1</span> 안녕하세요, 세상!</a></li>
  <li><a href="#호주-선거" id="toc-호주-선거" class="nav-link" data-scroll-target="#호주-선거"><span class="header-section-number">2.2</span> 호주 선거</a>
  <ul class="collapse">
  <li><a href="#계획" id="toc-계획" class="nav-link" data-scroll-target="#계획"><span class="header-section-number">2.2.1</span> 계획</a></li>
  <li><a href="#시뮬레이션" id="toc-시뮬레이션" class="nav-link" data-scroll-target="#시뮬레이션"><span class="header-section-number">2.2.2</span> 시뮬레이션</a></li>
  <li><a href="#획득" id="toc-획득" class="nav-link" data-scroll-target="#획득"><span class="header-section-number">2.2.3</span> 획득</a></li>
  <li><a href="#탐색" id="toc-탐색" class="nav-link" data-scroll-target="#탐색"><span class="header-section-number">2.2.4</span> 탐색</a></li>
  <li><a href="#공유" id="toc-공유" class="nav-link" data-scroll-target="#공유"><span class="header-section-number">2.2.5</span> 공유</a></li>
  </ul></li>
  <li><a href="#토론토의-노숙자-인구" id="toc-토론토의-노숙자-인구" class="nav-link" data-scroll-target="#토론토의-노숙자-인구"><span class="header-section-number">2.3</span> 토론토의 노숙자 인구</a>
  <ul class="collapse">
  <li><a href="#계획-1" id="toc-계획-1" class="nav-link" data-scroll-target="#계획-1"><span class="header-section-number">2.3.1</span> 계획</a></li>
  <li><a href="#시뮬레이션-1" id="toc-시뮬레이션-1" class="nav-link" data-scroll-target="#시뮬레이션-1"><span class="header-section-number">2.3.2</span> 시뮬레이션</a></li>
  <li><a href="#획득-1" id="toc-획득-1" class="nav-link" data-scroll-target="#획득-1"><span class="header-section-number">2.3.3</span> 획득</a></li>
  <li><a href="#탐색-1" id="toc-탐색-1" class="nav-link" data-scroll-target="#탐색-1"><span class="header-section-number">2.3.4</span> 탐색</a></li>
  <li><a href="#공유-1" id="toc-공유-1" class="nav-link" data-scroll-target="#공유-1"><span class="header-section-number">2.3.5</span> 공유</a></li>
  </ul></li>
  <li><a href="#신생아-사망률" id="toc-신생아-사망률" class="nav-link" data-scroll-target="#신생아-사망률"><span class="header-section-number">2.4</span> 신생아 사망률</a>
  <ul class="collapse">
  <li><a href="#계획-2" id="toc-계획-2" class="nav-link" data-scroll-target="#계획-2"><span class="header-section-number">2.4.1</span> 계획</a></li>
  <li><a href="#시뮬레이션-2" id="toc-시뮬레이션-2" class="nav-link" data-scroll-target="#시뮬레이션-2"><span class="header-section-number">2.4.2</span> 시뮬레이션</a></li>
  <li><a href="#획득-2" id="toc-획득-2" class="nav-link" data-scroll-target="#획득-2"><span class="header-section-number">2.4.3</span> 획득</a></li>
  <li><a href="#탐색-2" id="toc-탐색-2" class="nav-link" data-scroll-target="#탐색-2"><span class="header-section-number">2.4.4</span> 탐색</a></li>
  <li><a href="#공유-2" id="toc-공유-2" class="nav-link" data-scroll-target="#공유-2"><span class="header-section-number">2.4.5</span> 공유</a></li>
  </ul></li>
  <li><a href="#결론" id="toc-결론" class="nav-link" data-scroll-target="#결론"><span class="header-section-number">2.5</span> 결론</a></li>
  <li><a href="#연습-문제" id="toc-연습-문제" class="nav-link" data-scroll-target="#연습-문제"><span class="header-section-number">2.6</span> 연습 문제</a>
  <ul class="collapse">
  <li><a href="#퀴즈" id="toc-퀴즈" class="nav-link" data-scroll-target="#퀴즈">퀴즈</a></li>
  <li><a href="#수업-활동" id="toc-수업-활동" class="nav-link" data-scroll-target="#수업-활동">수업 활동</a></li>
  <li><a href="#과제" id="toc-과제" class="nav-link" data-scroll-target="#과제">과제</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/RohanAlexander/telling_stories/edit/main/02-drinking_from_a_fire_hose_ko.qmd" class="toc-action"><i class="bi bi-github"></i>편집</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-introduction_ko.html">기초</a></li><li class="breadcrumb-item"><a href="./02-drinking_from_a_fire_hose_ko.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">소방 호스에서 마시기</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-fire-hose" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">소방 호스에서 마시기</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>채프먼 앤 홀/CRC는 이 책을 2023년 7월에 출판했습니다. <a href="https://www.routledge.com/Telling-Stories-with-Data-With-Applications-in-R/Alexander/p/book/9781032134772">여기</a>에서 구매하실 수 있습니다. 이 온라인 버전은 인쇄된 내용에 일부 업데이트가 있습니다.</p>
</div>
</div>
</div>
<p>선행 조건</p>
<ul>
<li><em>탁월함의 평범함: 계층화와 올림픽 수영 선수에 대한 민족지학적 보고서</em> 읽기, <span class="citation" data-cites="chambliss1989mundanity">(<a href="#ref-chambliss1989mundanity" role="doc-biblioref">Chambliss 1989</a>)</span>
<ul>
<li>이 논문은 탁월함이 특별한 재능이나 선물이 아니라 기술, 훈련, 태도 때문임을 밝힙니다.</li>
</ul></li>
<li><em>원자 습관으로서의 데이터 과학</em> 읽기, <span class="citation" data-cites="citeBarrett">(<a href="#ref-citeBarrett" role="doc-biblioref">Barrett 2021</a>)</span>
<ul>
<li>이 블로그 게시물은 작고 일관된 행동을 포함하는 데이터 과학 학습 접근 방식을 설명합니다.</li>
</ul></li>
<li><em>AI 편향이 실제로 발생하는 방식과 수정하기 어려운 이유</em> 읽기, <span class="citation" data-cites="hao2019">(<a href="#ref-hao2019" role="doc-biblioref">Hao 2019</a>)</span>
<ul>
<li>이 기사는 모델이 편향을 영속화할 수 있는 몇 가지 방법을 강조합니다.</li>
</ul></li>
</ul>
<p>핵심 개념 및 기술</p>
<ul>
<li>통계 프로그래밍 언어 R은 데이터를 사용하여 흥미로운 이야기를 전달할 수 있도록 합니다. 다른 언어와 마찬가지로 숙달의 길은 느릴 수 있습니다.</li>
<li>프로젝트에 접근하는 데 사용하는 워크플로우는 계획, 시뮬레이션, 획득, 탐색, 공유입니다.</li>
<li>R을 배우는 방법은 작은 프로젝트로 시작하여 목표 달성에 필요한 것을 작은 단계로 나누고, 다른 사람의 코드를 보고, 각 단계를 달성하기 위해 그것을 활용하는 것입니다. 해당 프로젝트를 완료하고 다음 프로젝트로 넘어갑니다. 각 프로젝트마다 조금씩 더 나아질 것입니다.</li>
</ul>
<p>소프트웨어 및 패키지</p>
<ul>
<li>기본 R <span class="citation" data-cites="citeR">(<a href="#ref-citeR" role="doc-biblioref">R Core Team 2024</a>)</span></li>
<li>핵심 <code>tidyverse</code> <span class="citation" data-cites="tidyverse">(<a href="#ref-tidyverse" role="doc-biblioref">Wickham 기타 2019</a>)</span>
<ul>
<li><code>dplyr</code> <span class="citation" data-cites="citedplyr">(<a href="#ref-citedplyr" role="doc-biblioref">Wickham 기타 2022</a>)</span></li>
<li><code>ggplot2</code> <span class="citation" data-cites="citeggplot">(<a href="#ref-citeggplot" role="doc-biblioref">Wickham 2016</a>)</span></li>
<li><code>tidyr</code> <span class="citation" data-cites="citetidyr">(<a href="#ref-citetidyr" role="doc-biblioref">Wickham, Vaughan, 와/과 Girlich 2023</a>)</span></li>
<li><code>stringr</code> <span class="citation" data-cites="citestringr">(<a href="#ref-citestringr" role="doc-biblioref">Wickham 2022</a>)</span></li>
<li><code>readr</code> <span class="citation" data-cites="citereadr">(<a href="#ref-citereadr" role="doc-biblioref">Wickham, Hester, 와/과 Bryan 2022</a>)</span></li>
</ul></li>
<li><code>janitor</code> <span class="citation" data-cites="janitor">(<a href="#ref-janitor" role="doc-biblioref">Firke 2023</a>)</span></li>
<li><code>lubridate</code> <span class="citation" data-cites="GrolemundWickham2011">(<a href="#ref-GrolemundWickham2011" role="doc-biblioref">Grolemund 와/과 Wickham 2011</a>)</span></li>
<li><code>opendatatoronto</code> <span class="citation" data-cites="citeSharla">(<a href="#ref-citeSharla" role="doc-biblioref">Gelfand 2022</a>)</span></li>
<li><code>tinytable</code> <span class="citation" data-cites="tinytable">(<a href="#ref-tinytable" role="doc-biblioref">Arel-Bundock 2024</a>)</span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#library(opendatatororonto)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tinytable)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="안녕하세요-세상" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="안녕하세요-세상"><span class="header-section-number">2.1</span> 안녕하세요, 세상!</h2>
<p>시작하는 방법은 시작하는 것입니다. 이 장에서는 이 책에서 옹호하는 데이터 과학 워크플로우의 세 가지 완전한 예제를 살펴봅니다. 이는 다음을 의미합니다:</p>
<p><span class="math display">\[
\mbox{계획} \rightarrow \mbox{시뮬레이션} \rightarrow \mbox{획득} \rightarrow \mbox{탐색} \rightarrow \mbox{공유}
\]</span> R에 익숙하지 않다면 일부 코드가 다소 생소할 수 있습니다. 통계에 익숙하지 않다면 일부 개념이 생소할 수 있습니다. 걱정하지 마십시오. 곧 모든 것이 익숙해질 것입니다.</p>
<p>이야기를 전달하는 방법을 배우는 유일한 방법은 직접 이야기를 전달하기 시작하는 것입니다. 이는 이러한 예제를 작동시키려고 노력해야 함을 의미합니다. 직접 스케치를 하고, 모든 것을 직접 입력하고(R에 익숙하지 않고 로컬에 설치되어 있지 않다면 Posit Cloud를 사용하십시오), 모든 것을 실행하십시오. 처음에는 어려울 것이라는 점을 깨닫는 것이 중요합니다. 이것은 정상입니다.</p>
<blockquote class="blockquote">
<p>새로운 도구를 배울 때마다 오랫동안 형편없을 것입니다… 하지만 좋은 소식은 그것이 일반적이라는 것입니다. 그것은 모든 사람에게 일어나는 일이며, 일시적일 뿐입니다.</p>
<p>Hadley Wickham, <span class="citation" data-cites="citeBarrett">Barrett (<a href="#ref-citeBarrett" role="doc-biblioref">2021</a>)</span> 인용.</p>
</blockquote>
<p>여기서 철저하게 안내받을 것입니다. 데이터를 사용하여 이야기를 전달하는 흥분을 경험함으로써, 여러분은 계속해서 노력할 수 있는 힘을 얻기를 바랍니다.</p>
<p>워크플로우의 첫 번째 단계는 계획하는 것입니다. 우리는 상황에 대해 더 많이 알게 되면서 나중에 업데이트해야 할지라도 최종 지점을 설정해야 하기 때문에 이를 수행합니다. 그런 다음 시뮬레이션합니다. 이는 계획의 세부 사항에 집중하게 하기 때문입니다. 일부 프로젝트에서는 데이터 획득이 데이터셋을 다운로드하는 것처럼 간단할 수 있지만, 다른 프로젝트에서는 예를 들어 설문조사를 수행하는 경우 데이터 획득이 주요 초점이 될 수 있습니다. 다양한 양적 방법을 사용하여 데이터를 탐색하여 이해합니다. 마지막으로, 청중의 요구에 초점을 맞춰 우리의 이해를 공유합니다.</p>
<p>시작하려면 <a href="https://posit.cloud">Posit Cloud</a>로 이동하여 계정을 만드십시오. 무료 버전으로도 충분합니다. 처음에는 데스크톱 대신 이를 사용합니다. 이는 모든 사람이 동일하게 시작할 수 있도록 하기 위함이지만, 비용을 지불하지 않으려면 나중에 로컬 설치로 변경해야 합니다. 계정을 만들고 로그인하면 <a href="#fig-02-rstudio_cloud-1과" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-02-rstudio_cloud-1과</span></a> 비슷하게 보일 것입니다.</p>
<div id="fig-openrstudio" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-openrstudio-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-openrstudio" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-02-rstudio_cloud-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-02-rstudio_cloud-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-posit_cloud-1.png" class="img-fluid figure-img" data-ref-parent="fig-openrstudio">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-02-rstudio_cloud-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Posit Cloud를 처음 열기
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-openrstudio" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-02-rstudio_cloud-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-02-rstudio_cloud-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-posit_cloud-2.png" class="img-fluid figure-img" data-ref-parent="fig-openrstudio">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-02-rstudio_cloud-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 새 RStudio 프로젝트 열기
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-openrstudio-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2.1: Posit Cloud 및 새 프로젝트 시작하기
</figcaption>
</figure>
</div>
<p>“내 프로젝트”에 있을 것입니다. 여기에서 새 프로젝트를 시작해야 합니다: “새 프로젝트” <span class="math inline">\(\rightarrow\)</span> “새 RStudio 프로젝트” (<a href="#fig-02-rstudio_cloud-2" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-02-rstudio_cloud-2</span></a>). “제목 없는 프로젝트”를 클릭하고 이름을 바꿔 프로젝트 이름을 지정할 수 있습니다.</p>
<p>이제 세 가지 예제를 살펴볼 것입니다: 호주 선거, 토론토 쉼터 사용량, 신생아 사망률. 이 예제들은 점점 더 복잡해지지만, 첫 번째 예제부터 데이터를 사용하여 이야기를 전달할 것입니다. 여기서 많은 측면을 간략하게 설명하지만, 거의 모든 것이 책의 나머지 부분에서 훨씬 더 자세히 설명됩니다.</p>
</section>
<section id="호주-선거" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="호주-선거"><span class="header-section-number">2.2</span> 호주 선거</h2>
<p>호주는 하원 151석을 가진 의회 민주주의 국가이며, 하원에서 정부가 구성됩니다. 두 개의 주요 정당(“자유당”과 “노동당”), 두 개의 소수 정당(“국민당”과 “녹색당”), 그리고 많은 소규모 정당과 무소속이 있습니다. 이 예제에서는 2022년 연방 선거에서 각 정당이 얻은 의석 수를 그래프로 만들 것입니다.</p>
<section id="계획" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="계획"><span class="header-section-number">2.2.1</span> 계획</h3>
<p>이 예제에서는 두 가지 측면을 계획해야 합니다. 첫 번째는 필요한 데이터셋이 어떻게 생겼는지, 두 번째는 최종 그래프가 어떻게 생겼는지입니다.</p>
<p>데이터셋의 기본 요구 사항은 의석 이름(호주에서는 때때로 “선거구”라고 불림)과 당선된 사람의 정당을 포함해야 한다는 것입니다. 필요한 데이터셋의 빠른 스케치는 <a href="#fig-australiaexample-data입니다" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-australiaexample-data입니다</span></a>.</p>
<div id="fig-australiaexample" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-australiaexample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-australiaexample" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-australiaexample-data" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-australiaexample-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-divisiontable.png" class="img-fluid figure-img" style="width:45.0%" data-ref-parent="fig-australiaexample">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-australiaexample-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) 호주 선거 분석에 유용할 수 있는 데이터셋의 빠른 스케치
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-australiaexample" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-australiaexample-graph" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-australiaexample-graph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-divisiongraph.png" class="img-fluid figure-img" style="width:45.0%" data-ref-parent="fig-australiaexample">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-australiaexample-graph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 각 정당이 얻은 의석 수에 대한 가능한 그래프의 빠른 스케치
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-australiaexample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2.2: 호주 선거 관련 잠재적 데이터셋 및 그래프 스케치
</figcaption>
</figure>
</div>
<p>우리는 또한 관심 있는 그래프를 계획해야 합니다. 각 정당이 얻은 의석 수를 표시하고 싶으므로, 우리가 목표로 할 수 있는 빠른 스케치는 <a href="#fig-australiaexample-graph입니다" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-australiaexample-graph입니다</span></a>.</p>
</section>
<section id="시뮬레이션" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="시뮬레이션"><span class="header-section-number">2.2.2</span> 시뮬레이션</h3>
<p>이제 스케치에 구체성을 부여하기 위해 일부 데이터를 시뮬레이션합니다.</p>
<p>시작하려면 Posit Cloud 내에서 새 Quarto 문서를 만드십시오: “파일” <span class="math inline">\(\rightarrow\)</span> “새 파일” <span class="math inline">\(\rightarrow\)</span> “Quarto 문서<span class="math inline">\(\dots\)</span>”. “2022년 호주 선거 탐색”과 같은 제목을 지정하고, 저자로 자신의 이름을 추가하고, “시각적 마크다운 편집기 사용”을 클릭 해제하십시오 (<a href="#fig-quarto-australian-elections-clcik" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-quarto-australian-elections-clcik</span></a>). 다른 옵션은 기본값으로 두고 “생성”을 클릭하십시오.</p>
<div id="fig-quarto-australian-elections" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-quarto-australian-elections-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-quarto-australian-elections" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-quarto-australian-elections-clcik" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-quarto-australian-elections-clcik-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-posit_cloud-3.png" class="img-fluid figure-img" data-ref-parent="fig-quarto-australian-elections">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-quarto-australian-elections-clcik-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) 새 Quarto 문서 만들기
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-quarto-australian-elections" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-quarto-australian-elections-wtfquarto" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-quarto-australian-elections-wtfquarto-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-posit_cloud-4.png" class="img-fluid figure-img" data-ref-parent="fig-quarto-australian-elections">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-quarto-australian-elections-wtfquarto-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 필요한 경우 rmarkdown 설치
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-quarto-australian-elections" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-quarto-australian-elections-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-quarto-australian-elections-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-posit_cloud-5.png" class="img-fluid figure-img" data-ref-parent="fig-quarto-australian-elections">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-quarto-australian-elections-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) 초기 설정 및 서문 포함
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-quarto-australian-elections" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-quarto-australian-elections-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-quarto-australian-elections-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-posit_cloud-6.png" class="img-fluid figure-img" data-ref-parent="fig-quarto-australian-elections">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-quarto-australian-elections-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(d) 청크를 실행하기 위해 녹색 화살표 강조 표시
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-quarto-australian-elections" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-quarto-australian-elections-5" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-quarto-australian-elections-5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-posit_cloud-7.png" class="img-fluid figure-img" data-ref-parent="fig-quarto-australian-elections">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-quarto-australian-elections-5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(e) 메시지를 제거하기 위해 십자가 강조 표시
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-quarto-australian-elections" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-quarto-australian-elections-6" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-quarto-australian-elections-6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-posit_cloud-8.png" class="img-fluid figure-img" data-ref-parent="fig-quarto-australian-elections">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-quarto-australian-elections-6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(f) 렌더링 버튼 강조 표시
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-quarto-australian-elections-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2.3: Quarto 문서 시작하기
</figcaption>
</figure>
</div>
<p>“패키지 rmarkdown 필요…”와 같은 알림이 표시될 수 있습니다 (<a href="#fig-quarto-australian-elections-wtfquarto" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-quarto-australian-elections-wtfquarto</span></a>). 그런 경우 “설치”를 클릭하십시오. 이 예제에서는 모든 것을 이 하나의 Quarto 문서에 넣을 것입니다. “australian_elections.qmd”로 저장해야 합니다: “파일” <span class="math inline">\(\rightarrow\)</span> “다른 이름으로 저장…”.</p>
<p>기본 내용을 거의 모두 제거한 다음, 제목 자료 아래에 새 R 코드 청크를 만드십시오: “코드” <span class="math inline">\(\rightarrow\)</span> “청크 삽입”. 그런 다음 다음을 설명하는 서문 문서를 추가하십시오:</p>
<ul>
<li>문서의 목적;</li>
<li>저자 및 연락처 정보;</li>
<li>파일이 작성되었거나 마지막으로 업데이트된 시점; 그리고</li>
<li>파일이 의존하는 선행 조건.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 서문 ####</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 목적: 2022년 호주 선거 데이터를 읽어들이고</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 각 정당이 얻은 의석 수 그래프를 만듭니다.</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 저자: Rohan Alexander</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 이메일: rohan.alexander@utoronto.ca</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 날짜: 2023년 1월 1일</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 선행 조건: 호주 선거 데이터를 얻을 수 있는 곳을 알고 있어야 합니다.</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>R에서 “#”으로 시작하는 줄은 주석입니다. 이는 R에 의해 코드로 실행되지 않고, 대신 사람이 읽도록 설계되었음을 의미합니다. 이 서문의 각 줄은 “#”으로 시작해야 합니다. 또한 “####”로 둘러싸서 이것이 서문 섹션임을 명확히 하십시오. 결과는 <a href="#fig-quarto-australian-elections-3과" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-quarto-australian-elections-3과</span></a> 같아야 합니다.</p>
<p>이 후에는 작업 공간을 설정해야 합니다. 여기에는 필요한 패키지를 설치하고 로드하는 것이 포함됩니다. 패키지는 각 컴퓨터에 한 번만 설치하면 되지만, 사용할 때마다 로드해야 합니다. 이 경우 <code>tidyverse</code>와 <code>janitor</code> 패키지를 사용할 것입니다. 이전에 설치되지 않았다면 설치해야 하며, 그런 다음 각각 로드해야 합니다.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
거인의 어깨
</div>
</div>
<div class="callout-body-container callout-body">
<p>Hadley Wickham은 RStudio의 수석 과학자입니다. 2008년 아이오와 주립 대학교에서 통계학 박사 학위를 취득한 후 라이스 대학교 조교수로 임용되었고, 2013년 RStudio(현재 Posit)의 수석 과학자가 되었습니다. 그는 <code>tidyverse</code> 패키지 컬렉션을 개발했으며, <em>R for Data Science</em> <span class="citation" data-cites="r4ds">(<a href="#ref-r4ds" role="doc-biblioref">Wickham, Çetinkaya-Rundel, 와/과 Grolemund [2016년] 2023</a>)</span> 및 <em>Advanced R</em> <span class="citation" data-cites="advancedr">(<a href="#ref-advancedr" role="doc-biblioref">Wickham 2019</a>)</span>를 포함한 많은 책을 출판했습니다. 그는 2019년 COPSS 회장상을 수상했습니다.</p>
</div>
</div>
<p>패키지 설치 예시는 다음과 같습니다. R 코드 청크와 관련된 작은 녹색 화살표를 클릭하여 이 코드를 실행하십시오 (<a href="#fig-quarto-australian-elections-4" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-quarto-australian-elections-4</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 작업 공간 설정 ####</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"janitor"</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>이제 패키지가 설치되었으므로 로드해야 합니다. 패키지 설치 단계는 컴퓨터당 한 번만 수행하면 되므로, 해당 코드는 실수로 실행되지 않도록 주석 처리하거나 제거해야 합니다. 또한 패키지를 설치할 때 인쇄된 메시지를 제거할 수 있습니다 (<a href="#fig-quarto-australian-elections-5" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-quarto-australian-elections-5</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 작업 공간 설정 ####</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tidyverse")</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("janitor")</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>“렌더링”을 클릭하여 전체 문서를 렌더링할 수 있습니다 (<a href="#fig-quarto-australian-elections-6" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-quarto-australian-elections-6</span></a>). 이렇게 하면 일부 패키지를 설치하라는 메시지가 표시될 수 있습니다. 그런 경우 동의해야 합니다. 그러면 HTML 문서가 생성됩니다.</p>
<p>방금 설치된 패키지에 대한 소개를 위해 각 패키지에는 패키지 및 해당 함수에 대한 정보를 제공하는 도움말 파일이 포함되어 있습니다. 패키지 이름 앞에 물음표를 붙인 다음 콘솔에서 해당 코드를 실행하여 액세스할 수 있습니다. 예를 들어 <code>?tidyverse</code>.</p>
<p>데이터를 시뮬레이션하려면, “Division”과 “Party”라는 두 변수와 각각에 대한 일부 값을 가진 데이터셋을 만들어야 합니다. “Division”의 경우 합리적인 값은 151개 호주 선거구 중 하나의 이름일 것입니다. “Party”의 경우 합리적인 값은 “Liberal”, “Labor”, “National”, “Green”, “Other” 중 하나일 것입니다. 다시, 이 코드는 R 코드 청크와 관련된 작은 녹색 화살표를 클릭하여 실행할 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 시뮬레이션 ####</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">853</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>simulated_data <span class="ot">&lt;-</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 각 선거구를 나타내기 위해 1부터 151까지 사용</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Division"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">151</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 151번 무작위로 옵션을 선택합니다 (복원 추출)</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Party"</span> <span class="ot">=</span> <span class="fu">sample</span>(</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">c</span>(<span class="st">"Liberal"</span>, <span class="st">"Labor"</span>, <span class="st">"National"</span>, <span class="st">"Green"</span>, <span class="st">"Other"</span>),</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">151</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">replace =</span> <span class="cn">TRUE</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>simulated_data</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 151 × 2
   Division Party   
      &lt;int&gt; &lt;chr&gt;   
 1        1 Liberal 
 2        2 Labor   
 3        3 Other   
 4        4 Liberal 
 5        5 Other   
 6        6 Other   
 7        7 Labor   
 8        8 Green   
 9        9 National
10       10 National
# ℹ 141 more rows</code></pre>
</div>
</div>
<p>어느 시점에서 코드가 실행되지 않고 도움을 요청하고 싶을 것입니다. 코드의 작은 스니펫을 스크린샷하여 누군가가 그것을 기반으로 도움을 줄 수 있을 것이라고 기대하지 마십시오. 그들은 거의 확실히 그럴 수 없습니다. 대신, 그들이 실행할 수 있는 방식으로 전체 스크립트를 제공해야 합니다. GitHub가 무엇인지는 <a href="#sec-reproducible-workflows에서" class="quarto-xref"><span class="quarto-unresolved-ref">sec-reproducible-workflows에서</span></a> 더 자세히 설명할 것이지만, 지금 당장 도움이 필요하다면 스크린샷을 찍는 것보다 더 유용한 방식으로 코드를 공유할 수 있도록 GitHub Gist를 순진하게 생성해야 합니다. 첫 번째 단계는 <a href="https://github.com">GitHub</a>에서 무료 계정을 만드는 것입니다 (<a href="#fig-githubone" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-githubone</span></a>). 적절한 사용자 이름을 생각하는 것이 중요합니다. 이는 여러분의 전문 프로필의 일부가 될 것이기 때문입니다. 전문적이고, 어떤 과정과도 독립적이며, 이상적으로는 실제 이름과 관련된 사용자 이름을 사용하는 것이 좋습니다. 그런 다음 오른쪽 상단에서 “+”를 찾고 “새 Gist”를 선택하십시오 (<a href="#fig-githubgistone" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-githubgistone</span></a>).</p>
<div id="fig-githubgist" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-githubgist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-githubgist" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-githubone" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-githubone-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/github_1.png" class="img-fluid figure-img" data-ref-parent="fig-githubgist">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-githubone-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) GitHub 가입 화면
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-githubgist" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-githubgistone" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-githubgistone-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/githubgistone.png" class="img-fluid figure-img" data-ref-parent="fig-githubgist">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-githubgistone-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 새 GitHub Gist
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-githubgist" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-githubgisttwo" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-githubgisttwo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/githubgisttwo.png" class="img-fluid figure-img" data-ref-parent="fig-githubgist">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-githubgisttwo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) 코드를 공유하기 위해 공개 GitHub Gist 만들기
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-githubgist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2.4: 도움을 요청할 때 코드를 공유하기 위해 Gist 만들기
</figcaption>
</figure>
</div>
<p>여기에서 오류가 발생하는 마지막 부분뿐만 아니라 모든 코드를 Gist에 추가해야 합니다. 그리고 끝에 “.R”이 포함된 의미 있는 파일 이름을 지정하십시오. 예를 들어 “australian_elections.R”. <a href="#fig-githubgisttwo에서는" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-githubgisttwo에서는</span></a> <code>library(Tidyverse)</code> 대신 <code>library(tidyverse)</code>와 같이 잘못된 대소문자가 사용되었습니다.</p>
<p>“공개 Gist 생성”을 클릭하십시오. 그런 다음 이 Gist의 URL을 도움을 요청하는 사람과 공유하고, 문제가 무엇인지, 무엇을 달성하려고 하는지 설명할 수 있습니다. 모든 코드를 사용할 수 있으므로 그들이 더 쉽게 도움을 줄 수 있을 것입니다.</p>
</section>
<section id="획득" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="획득"><span class="header-section-number">2.2.3</span> 획득</h3>
<p>이제 실제 데이터를 얻고 싶습니다. 필요한 데이터는 호주 연방 선거를 조직하는 비당파 기관인 호주 선거 관리 위원회(AEC)에서 가져옵니다. <code>readr</code>의 <code>read_csv()</code>에 웹사이트 페이지를 전달할 수 있습니다. <code>readr</code>는 <code>tidyverse</code>의 일부이므로 명시적으로 로드할 필요가 없습니다. <code>&lt;-</code> 또는 “할당 연산자”는 <code>read_csv()</code>의 출력을 “raw_elections_data”라는 객체에 할당합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 데이터 읽어들이기 ####</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>raw_elections_data <span class="ot">&lt;-</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">file =</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"https://results.aec.gov.au/27966/website/Downloads/HouseMembersElectedDownload-27966.csv"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">skip =</span> <span class="dv">1</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># AEC 웹사이트에서 데이터를 읽어들였습니다. 나중에 문제가 생기거나</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 이동할 경우를 대비하여 저장해 두는 것이 좋습니다.</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> raw_elections_data,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"australian_voting.csv"</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>head()</code>를 사용하여 데이터셋을 빠르게 살펴볼 수 있습니다. <code>head()</code>는 처음 여섯 행을 보여주고, <code>tail()</code>는 마지막 여섯 행을 보여줍니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(raw_elections_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  DivisionID DivisionNm StateAb CandidateID GivenNm   Surname   PartyNm  PartyAb
       &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;  
1        179 Adelaide   SA            36973 Steve     GEORGANAS Austral… ALP    
2        197 Aston      VIC           36704 Alan      TUDGE     Liberal  LP     
3        198 Ballarat   VIC           36409 Catherine KING      Austral… ALP    
4        103 Banks      NSW           37018 David     COLEMAN   Liberal  LP     
5        180 Barker     SA            37083 Tony      PASIN     Liberal  LP     
6        104 Barton     NSW           36820 Linda     BURNEY    Austral… ALP    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(raw_elections_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  DivisionID DivisionNm StateAb CandidateID GivenNm    Surname  PartyNm  PartyAb
       &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;  
1        152 Wentworth  NSW           37451 Allegra    SPENDER  Indepen… IND    
2        153 Werriwa    NSW           36810 Anne Maree STANLEY  Austral… ALP    
3        150 Whitlam    NSW           36811 Stephen    JONES    Austral… ALP    
4        178 Wide Bay   QLD           37506 Llew       O'BRIEN  Liberal… LNP    
5        234 Wills      VIC           36452 Peter      KHALIL   Austral… ALP    
6        316 Wright     QLD           37500 Scott      BUCHHOLZ Liberal… LNP    </code></pre>
</div>
</div>
<p>데이터를 사용하려면 정리해야 합니다. 계획 단계에서 원했던 데이터셋과 유사하게 만들려고 합니다. 계획에서 벗어나는 것은 괜찮지만, 이는 의도적이고 합리적인 결정이어야 합니다. 저장한 데이터셋을 읽어들인 후 가장 먼저 할 일은 변수 이름을 조정하는 것입니다. <code>janitor</code>의 <code>clean_names()</code>를 사용하여 이를 수행할 것입니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 기본 정리 ####</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>raw_elections_data <span class="ot">&lt;-</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">file =</span> <span class="st">"australian_voting.csv"</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 이름을 더 쉽게 입력할 수 있도록 합니다.</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data <span class="ot">&lt;-</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>(raw_elections_data)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 처음 여섯 행을 살펴봅니다.</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cleaned_elections_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  division_id division_nm state_ab candidate_id given_nm  surname   party_nm    
        &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;       
1         179 Adelaide    SA              36973 Steve     GEORGANAS Australian …
2         197 Aston       VIC             36704 Alan      TUDGE     Liberal     
3         198 Ballarat    VIC             36409 Catherine KING      Australian …
4         103 Banks       NSW             37018 David     COLEMAN   Liberal     
5         180 Barker      SA              37083 Tony      PASIN     Liberal     
6         104 Barton      NSW             36820 Linda     BURNEY    Australian …
# ℹ 1 more variable: party_ab &lt;chr&gt;</code></pre>
</div>
</div>
<p>이름이 더 빨리 입력되는 이유는 RStudio가 자동으로 완성하기 때문입니다. 이를 위해 변수 이름을 입력하기 시작한 다음 “tab” 키를 사용하여 완성합니다.</p>
<p>데이터셋에는 많은 변수가 있으며, 우리는 주로 “division_nm”과 “party_nm” 두 가지에 관심이 있습니다. <code>tidyverse</code>의 일부로 로드한 <code>dplyr</code>의 <code>select()</code>를 사용하여 관심 있는 특정 변수를 선택할 수 있습니다. “파이프 연산자”, <code>|&gt;</code>,는 한 줄의 출력을 다음 줄의 함수의 첫 번째 입력으로 전달합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data <span class="ot">&lt;-</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  cleaned_elections_data <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    division_nm,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    party_nm</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cleaned_elections_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  division_nm party_nm              
  &lt;chr&gt;       &lt;chr&gt;                 
1 Adelaide    Australian Labor Party
2 Aston       Liberal               
3 Ballarat    Australian Labor Party
4 Banks       Liberal               
5 Barker      Liberal               
6 Barton      Australian Labor Party</code></pre>
</div>
</div>
<p>일부 변수 이름은 여전히 약어이기 때문에 명확하지 않습니다. <code>names()</code>를 사용하여 이 데이터셋의 열 이름을 살펴볼 수 있습니다. 그리고 <code>dplyr</code>의 <code>rename()</code>을 사용하여 이름을 변경할 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(cleaned_elections_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "division_nm" "party_nm"   </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data <span class="ot">&lt;-</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  cleaned_elections_data <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">division =</span> division_nm,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">elected_party =</span> party_nm</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cleaned_elections_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  division elected_party         
  &lt;chr&gt;    &lt;chr&gt;                 
1 Adelaide Australian Labor Party
2 Aston    Liberal               
3 Ballarat Australian Labor Party
4 Banks    Liberal               
5 Barker   Liberal               
6 Barton   Australian Labor Party</code></pre>
</div>
</div>
<p>이제 <code>unique()</code>를 사용하여 “elected_party” 열의 고유 값을 살펴볼 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data<span class="sc">$</span>elected_party <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Australian Labor Party"              
[2] "Liberal"                             
[3] "Liberal National Party of Queensland"
[4] "The Greens"                          
[5] "The Nationals"                       
[6] "Independent"                         
[7] "Katter's Australian Party (KAP)"     
[8] "Centre Alliance"                     </code></pre>
</div>
</div>
<p>우리가 원했던 것보다 더 많은 세부 정보가 있으므로, <code>dplyr</code>의 <code>case_match()</code>를 사용하여 정당 이름을 시뮬레이션한 것과 일치하도록 단순화할 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data <span class="ot">&lt;-</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  cleaned_elections_data <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">elected_party =</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_match</span>(</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>        elected_party,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Australian Labor Party"</span> <span class="sc">~</span> <span class="st">"Labor"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Liberal National Party of Queensland"</span> <span class="sc">~</span> <span class="st">"Liberal"</span>,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Liberal"</span> <span class="sc">~</span> <span class="st">"Liberal"</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"The Nationals"</span> <span class="sc">~</span> <span class="st">"Nationals"</span>,</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"The Greens"</span> <span class="sc">~</span> <span class="st">"Greens"</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Independent"</span> <span class="sc">~</span> <span class="st">"Other"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Katter's Australian Party (KAP)"</span> <span class="sc">~</span> <span class="st">"Other"</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Centre Alliance"</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cleaned_elections_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  division elected_party
  &lt;chr&gt;    &lt;chr&gt;        
1 Adelaide Labor        
2 Aston    Liberal      
3 Ballarat Labor        
4 Banks    Liberal      
5 Barker   Liberal      
6 Barton   Labor        </code></pre>
</div>
</div>
<p>이제 데이터가 계획과 일치합니다 (<a href="#fig-australiaexample-data" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-australiaexample-data</span></a>). 모든 선거구에 대해 당선된 사람의 정당을 가지고 있습니다.</p>
<p>이제 데이터셋을 깔끔하게 정리했으므로 저장해야 합니다. 다음 단계에서 정리된 데이터셋으로 시작할 수 있도록 말입니다. 원시 데이터를 대체하지 않고 나중에 정리된 데이터셋을 쉽게 식별할 수 있도록 새 파일 이름으로 저장해야 합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> cleaned_elections_data,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"cleaned_elections_data.csv"</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="탐색" class="level3" data-number="2.2.4">
<h3 data-number="2.2.4" class="anchored" data-anchor-id="탐색"><span class="header-section-number">2.2.4</span> 탐색</h3>
<p>우리가 만든 데이터셋을 탐색하고 싶을 수 있습니다. 데이터셋을 더 잘 이해하는 한 가지 방법은 그래프를 만드는 것입니다. 특히, 여기서는 <a href="#fig-australiaexample-graph에서" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-australiaexample-graph에서</span></a> 계획한 그래프를 만들고 싶습니다.</p>
<p>먼저, 방금 만든 데이터셋을 읽어들입니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 탐색 ####</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data <span class="ot">&lt;-</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">file =</span> <span class="st">"cleaned_elections_data.csv"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>dplyr</code>의 <code>count()</code>를 사용하여 각 정당이 얻은 의석 수를 빠르게 셀 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(elected_party)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  elected_party     n
  &lt;chr&gt;         &lt;int&gt;
1 Greens            4
2 Labor            77
3 Liberal          48
4 Nationals        10
5 Other            12</code></pre>
</div>
</div>
<p>관심 있는 그래프를 만들기 위해 <code>tidyverse</code>의 일부인 <code>ggplot2</code>를 사용합니다. 이 패키지의 핵심은 “+”를 사용하여 레이어를 추가하여 그래프를 만든다는 것입니다. 이를 “더하기 연산자”라고 부릅니다. 특히 <code>ggplot2</code>의 <code>geom_bar()</code>를 사용하여 막대 차트를 만들 것입니다 (<a href="#fig-canadanice-1" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-canadanice-1</span></a>).</p>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> elected_party)) <span class="sc">+</span> <span class="co"># aes는 "미학"을 줄인 말입니다.</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data <span class="sc">|&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> elected_party)) <span class="sc">+</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="co"># 테마를 더 깔끔하게 만듭니다.</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"정당"</span>, <span class="at">y =</span> <span class="st">"의석 수"</span>) <span class="co"># 레이블을 더 의미 있게 만듭니다.</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-canadanice" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-canadanice-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-canadanice" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-canadanice-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-canadanice-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-drinking_from_a_fire_hose_ko_files/figure-html/fig-canadanice-1.png" class="img-fluid figure-img" data-ref-parent="fig-canadanice" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-canadanice-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) 기본 옵션
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-canadanice" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-canadanice-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-canadanice-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-drinking_from_a_fire_hose_ko_files/figure-html/fig-canadanice-2.png" class="img-fluid figure-img" data-ref-parent="fig-canadanice" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-canadanice-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 개선된 테마 및 레이블
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-canadanice-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2.5: 2022년 호주 연방 선거에서 정당별 획득 의석 수
</figcaption>
</figure>
</div>
<p><a href="#fig-canadanice-1은" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-canadanice-1은</span></a> 우리가 목표로 한 것을 달성합니다. 그러나 기본 옵션을 수정하고 레이블을 개선하여 더 보기 좋게 만들 수 있습니다 (<a href="#fig-canadanice-2" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-canadanice-2</span></a>).</p>
</section>
<section id="공유" class="level3" data-number="2.2.5">
<h3 data-number="2.2.5" class="anchored" data-anchor-id="공유"><span class="header-section-number">2.2.5</span> 공유</h3>
<p>이 시점까지 우리는 데이터를 다운로드하고, 정리하고, 그래프를 만들었습니다. 일반적으로 우리가 한 일을 어느 정도 자세히 전달해야 합니다. 이 경우, 우리가 한 일, 왜 했는지, 그리고 무엇을 발견했는지에 대해 몇 단락을 작성하여 워크플로우를 마무리할 수 있습니다. 예시는 다음과 같습니다.</p>
<blockquote class="blockquote">
<p>호주는 하원 151석을 가진 의회 민주주의 국가이며, 하원에서 정부가 구성됩니다. 두 개의 주요 정당(“자유당”과 “노동당”), 두 개의 소수 정당(“국민당”과 “녹색당”), 그리고 많은 소규모 정당이 있습니다. 2022년 연방 선거는 5월 21일에 치러졌으며, 약 1,500만 표가 투표되었습니다. 우리는 각 정당이 얻은 의석 수에 관심이 있었습니다.</p>
<p>우리는 호주 선거 관리 위원회 웹사이트에서 의석별 결과를 다운로드했습니다. 통계 프로그래밍 언어 R <span class="citation" data-cites="citeR">(<a href="#ref-citeR" role="doc-biblioref">R Core Team 2024</a>)</span>과 <code>tidyverse</code> <span class="citation" data-cites="tidyverse">(<a href="#ref-tidyverse" role="doc-biblioref">Wickham 기타 2019</a>)</span> 및 <code>janitor</code> <span class="citation" data-cites="janitor">(<a href="#ref-janitor" role="doc-biblioref">Firke 2023</a>)</span>를 사용하여 데이터셋을 정리하고 정돈했습니다. 그런 다음 각 정당이 얻은 의석 수 그래프를 만들었습니다 (<a href="#fig-canadanice" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-canadanice</span></a>).</p>
<p>노동당이 77석을 얻었고, 자유당이 48석으로 그 뒤를 이었습니다. 소수 정당은 국민당이 10석, 녹색당이 4석을 얻었습니다. 마지막으로 10명의 무소속 의원과 소규모 정당 후보들이 당선되었습니다.</p>
<p>의석 분포는 두 주요 정당에 편향되어 있으며, 이는 호주 유권자들의 비교적 안정적인 선호도를 반영하거나, 전국적인 네트워크나 자금과 같은 주요 정당으로서의 이점 때문에 관성 때문일 수 있습니다. 이러한 분포의 이유에 대한 더 나은 이해는 향후 연구에서 흥미로운 주제입니다. 데이터셋은 투표한 모든 사람으로 구성되지만, 호주에서는 일부가 체계적으로 투표에서 제외되며, 일부는 다른 사람보다 투표하기가 훨씬 더 어렵다는 점에 유의해야 합니다.</p>
</blockquote>
<p>이 예제는 몇 단락에 불과하지만, 초록을 형성하도록 축소하거나, 각 단락을 섹션으로 확장하여 전체 보고서를 형성하도록 늘릴 수 있습니다. 첫 번째 단락은 일반적인 개요, 두 번째 단락은 데이터에 초점, 세 번째 단락은 결과에 초점, 네 번째 단락은 토론입니다. <span class="citation" data-cites="hao2019의">(<a href="#ref-hao2019의" role="doc-biblioref"><strong>hao2019의?</strong></a>)</span> 예시를 따라, 네 번째 단락은 편향이 스며들 수 있는 영역을 고려하기에 좋은 곳입니다.</p>
</section>
</section>
<section id="토론토의-노숙자-인구" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="토론토의-노숙자-인구"><span class="header-section-number">2.3</span> 토론토의 노숙자 인구</h2>
<p>토론토에는 많은 노숙자 인구가 있습니다 <span class="citation" data-cites="torontohomeless">(<a href="#ref-torontohomeless" role="doc-biblioref">City of Toronto 2021</a>)</span>. 혹독한 겨울은 쉼터에 충분한 공간이 있는 것이 중요함을 의미합니다. 이 예제에서는 2021년 쉼터 사용량 표를 만들어 각 월의 평균 사용량을 비교할 것입니다. 우리의 예상은 12월과 같은 추운 달에 7월과 같은 따뜻한 달보다 사용량이 더 많다는 것입니다.</p>
<section id="계획-1" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="계획-1"><span class="header-section-number">2.3.1</span> 계획</h3>
<p>관심 있는 데이터셋은 날짜, 쉼터, 그리고 그날 밤 점유된 침대 수를 포함해야 합니다. 작동할 데이터셋의 빠른 스케치는 <a href="#fig-torontohomeless-data입니다" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-torontohomeless-data입니다</span></a>. 우리는 매월 평균 일일 점유 침대 수를 포함하는 표를 만드는 데 관심이 있습니다. 표는 <a href="#fig-torontohomeless-table과" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-torontohomeless-table과</span></a> 비슷하게 보일 것입니다.</p>
<div id="fig-torontohomeless" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-torontohomeless-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-torontohomeless" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-torontohomeless-data" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-torontohomeless-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-shelter_sketch.png" class="img-fluid figure-img" style="width:50.0%" data-ref-parent="fig-torontohomeless">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-torontohomeless-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) 데이터셋의 빠른 스케치
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-torontohomeless" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-torontohomeless-table" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-torontohomeless-table-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-homeless_sketch.png" class="img-fluid figure-img" style="width:50.0%" data-ref-parent="fig-torontohomeless">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-torontohomeless-table-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 매월 평균 점유 침대 수 테이블의 빠른 스케치
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-torontohomeless-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2.6: 토론토 쉼터 사용량 관련 데이터셋 및 테이블 스케치
</figcaption>
</figure>
</div>
</section>
<section id="시뮬레이션-1" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="시뮬레이션-1"><span class="header-section-number">2.3.2</span> 시뮬레이션</h3>
<p>다음 단계는 데이터셋과 유사한 데이터를 시뮬레이션하는 것입니다. 시뮬레이션은 데이터 생성 프로세스에 대해 깊이 생각할 기회를 제공합니다. 분석으로 전환할 때, 이는 우리에게 가이드가 될 것입니다. 시뮬레이션을 먼저 사용하지 않고 분석을 수행하는 것은 목표 없이 화살을 쏘는 것과 같다고 생각할 수 있습니다. 즉, 확실히 무언가를 하고 있지만, 잘하고 있는지는 명확하지 않습니다.</p>
<p>Posit Cloud에서 새 Quarto 문서를 만들고 저장한 다음, 새 R 코드 청크를 만들고 서문 문서를 추가하십시오. 그런 다음 필요한 패키지를 설치 및/또는 로드하십시오. 다시 <code>tidyverse</code>와 <code>janitor</code>를 사용할 것입니다. 이들은 이전에 설치되었으므로 다시 설치할 필요가 없습니다. 또한 <code>lubridate</code>도 사용할 것입니다. 이것은 <code>tidyverse</code>의 일부이므로 독립적으로 설치할 필요는 없지만 로드해야 합니다. 또한 <code>opendatatoronto</code>와 <code>knitr</code>도 사용할 것이며, 이들은 설치하고 로드해야 합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 서문 ####</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 목적: 2021년 쉼터 사용량 데이터를 얻고 표를 만듭니다.</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 저자: Rohan Alexander</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 이메일: rohan.alexander@utoronto.ca</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 날짜: 2022년 7월 1일</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 선행 조건: -</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="do">#### 작업 공간 설정 ####</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"opendatatoronto"</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"knitr"</span>)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(opendatatoronto)</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>이전 예제에 세부 정보를 추가하자면, 패키지에는 다른 사람들이 작성한 코드가 포함되어 있습니다. 이 책에서 정기적으로 보게 될 몇 가지 일반적인 패키지가 있습니다. 특히 <code>tidyverse</code>. 패키지를 사용하려면 먼저 설치해야 하고, 그런 다음 로드해야 합니다. 패키지는 컴퓨터당 한 번만 설치하면 되지만, 사용할 때마다 로드해야 합니다. 이는 이전에 설치한 패키지를 여기에서 다시 설치할 필요가 없음을 의미합니다.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
거인의 어깨
</div>
</div>
<div class="callout-body-container callout-body">
<p>로버트 젠틀맨 박사는 R의 공동 창시자입니다. 1988년 워싱턴 대학교에서 통계학 박사 학위를 취득한 후 오클랜드 대학교로 옮겼습니다. 그 후 23andMe를 포함한 다양한 역할을 수행했으며, 현재 하버드 의과대학 계산 생의학 센터의 전무이사입니다.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
거인의 어깨
</div>
</div>
<div class="callout-body-container callout-body">
<p>로스 이아카 박사는 R의 공동 창시자입니다. 그는 1985년 캘리포니아 대학교 버클리에서 통계학 박사 학위를 취득했습니다. 그는 마오리족 지진의 신인 “Ruaumoko”라는 제목의 논문을 작성했습니다. 그 후 오클랜드 대학교로 옮겨 평생 그곳에 머물렀습니다. 그는 2008년 뉴질랜드 왕립 학회 테 아파랑기에서 피커링 메달을 수상했습니다.</p>
</div>
</div>
<p>사람들이 R과 우리가 사용하는 패키지를 만들기 위해 시간을 기부한다는 점을 고려할 때, 그들을 인용하는 것이 중요합니다. 필요한 정보를 얻기 위해 <code>citation()</code>을 사용합니다. 인수를 사용하지 않고 실행하면 R 자체에 대한 인용 정보를 제공하고, 패키지 이름인 인수를 사용하여 실행하면 해당 패키지에 대한 인용 정보를 제공합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>() <span class="co"># R에 대한 인용 정보 얻기</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>To cite R in publications use:

  R Core Team (2025). _R: A Language and Environment for Statistical
  Computing_. R Foundation for Statistical Computing, Vienna, Austria.
  &lt;https://www.R-project.org/&gt;.

A BibTeX entry for LaTeX users is

  @Manual{,
    title = {R: A Language and Environment for Statistical Computing},
    author = {{R Core Team}},
    organization = {R Foundation for Statistical Computing},
    address = {Vienna, Austria},
    year = {2025},
    url = {https://www.R-project.org/},
  }

We have invested a lot of time and effort in creating R, please cite it
when using it for data analysis. See also 'citation("pkgname")' for
citing R packages.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>(<span class="st">"ggplot2"</span>) <span class="co"># 패키지에 대한 인용 정보 얻기</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>To cite ggplot2 in publications, please use

  H. Wickham. ggplot2: Elegant Graphics for Data Analysis.
  Springer-Verlag New York, 2016.

A BibTeX entry for LaTeX users is

  @Book{,
    author = {Hadley Wickham},
    title = {ggplot2: Elegant Graphics for Data Analysis},
    publisher = {Springer-Verlag New York},
    year = {2016},
    isbn = {978-3-319-24277-4},
    url = {https://ggplot2.tidyverse.org},
  }</code></pre>
</div>
</div>
<p>시뮬레이션으로 돌아가서, 우리는 “date”, “shelter”, “occupancy” 세 가지 변수가 필요합니다. 이 예제는 <code>set.seed()</code>를 사용하여 시드를 추가하여 이전 예제를 기반으로 구축됩니다. 시드는 동일한 코드를 실행할 때마다 항상 동일한 무작위 데이터를 생성할 수 있도록 합니다. 어떤 정수든 시드로 사용할 수 있습니다. 이 경우 시드는 853입니다. 이 시드를 사용하면 이 예제와 동일한 무작위 숫자를 얻을 수 있습니다. 다른 시드를 사용하면 다른 무작위 숫자를 예상해야 합니다. 마지막으로, <code>rep()</code>를 사용하여 특정 횟수만큼 무언가를 반복합니다. 예를 들어, “Shelter 1”을 365번 반복합니다. 이는 약 1년치에 해당합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 시뮬레이션 ####</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">853</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>simulated_occupancy_data <span class="ot">&lt;-</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">rep</span>(<span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2021-01-01"</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">364</span>), <span class="at">times =</span> <span class="dv">3</span>),</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Eddelbuettel 기반: https://stackoverflow.com/a/21502386</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">shelter =</span> <span class="fu">c</span>(</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="at">x =</span> <span class="st">"Shelter 1"</span>, <span class="at">times =</span> <span class="dv">365</span>),</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="at">x =</span> <span class="st">"Shelter 2"</span>, <span class="at">times =</span> <span class="dv">365</span>),</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="at">x =</span> <span class="st">"Shelter 3"</span>, <span class="at">times =</span> <span class="dv">365</span>)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">number_occupied =</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rpois</span>(</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> <span class="dv">365</span> <span class="sc">*</span> <span class="dv">3</span>,</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">lambda =</span> <span class="dv">30</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>      ) <span class="co"># 포아송 분포에서 1,095번 추출</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(simulated_occupancy_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  date       shelter   number_occupied
  &lt;date&gt;     &lt;chr&gt;               &lt;int&gt;
1 2021-01-01 Shelter 1              28
2 2021-01-02 Shelter 1              29
3 2021-01-03 Shelter 1              35
4 2021-01-04 Shelter 1              25
5 2021-01-05 Shelter 1              21
6 2021-01-06 Shelter 1              30</code></pre>
</div>
</div>
<p>이 시뮬레이션에서 우리는 먼저 2021년의 모든 날짜 목록을 만듭니다. 그 목록을 세 번 반복합니다. 우리는 1년 내내 매일 세 개의 쉼터에 대한 데이터를 가정합니다. 매일 밤 점유된 침대 수를 시뮬레이션하기 위해, 우리는 포아송 분포에서 추출하며, 평균 30개의 침대가 쉼터당 점유된다고 가정합니다. 이는 임의의 선택입니다. 배경 설명을 하자면, 포아송 분포는 종종 카운트 데이터가 있을 때 사용되며, <a href="#sec-its-just-a-generalized-linear-model에서" class="quarto-xref"><span class="quarto-unresolved-ref">sec-its-just-a-generalized-linear-model에서</span></a> 다시 다룹니다.</p>
</section>
<section id="획득-1" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="획득-1"><span class="header-section-number">2.3.3</span> 획득</h3>
<p>토론토 시에서 제공하는 토론토 쉼터 사용량 데이터를 사용합니다. 쉼터 사용량은 매일 새벽 4시에 점유된 침대 수를 세어 측정합니다. 데이터에 액세스하려면 <code>opendatatoronto</code>를 사용한 다음 자체 사본을 저장합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 데이터 획득 ####</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>toronto_shelters <span class="ot">&lt;-</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 각 패키지는 Open Data Toronto의 관련 페이지의 "개발자용" 탭에서 찾을 수 있는 고유 ID와 연결됩니다.</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># https://open.toronto.ca/dataset/daily-shelter-overnight-service-occupancy-capacity/</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list_package_resources</span>(<span class="st">"21c83b32-d5a8-4106-a54f-010dbe49f6f2"</span>) <span class="sc">|&gt;</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 해당 패키지 내에서 2021년 데이터셋에 관심이 있습니다.</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">==</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"daily-shelter-overnight-service-occupancy-capacity-2021.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 데이터셋을 한 행으로 줄인 후 리소스를 가져올 수 있습니다.</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_resource</span>()</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> toronto_shelters,</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"toronto_shelters.csv"</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(toronto_shelters)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(toronto_shelters)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 32
   X_id OCCUPANCY_DATE ORGANIZATION_ID ORGANIZATION_NAME        SHELTER_ID
  &lt;dbl&gt; &lt;chr&gt;                    &lt;dbl&gt; &lt;chr&gt;                         &lt;dbl&gt;
1     1 21-01-01                    24 COSTI Immigrant Services         40
2     2 21-01-01                    24 COSTI Immigrant Services         40
3     3 21-01-01                    24 COSTI Immigrant Services         40
4     4 21-01-01                    24 COSTI Immigrant Services         40
5     5 21-01-01                    24 COSTI Immigrant Services         40
6     6 21-01-01                    24 COSTI Immigrant Services         40
# ℹ 27 more variables: SHELTER_GROUP &lt;chr&gt;, LOCATION_ID &lt;dbl&gt;,
#   LOCATION_NAME &lt;chr&gt;, LOCATION_ADDRESS &lt;chr&gt;, LOCATION_POSTAL_CODE &lt;chr&gt;,
#   LOCATION_CITY &lt;chr&gt;, LOCATION_PROVINCE &lt;chr&gt;, PROGRAM_ID &lt;dbl&gt;,
#   PROGRAM_NAME &lt;chr&gt;, SECTOR &lt;chr&gt;, PROGRAM_MODEL &lt;chr&gt;,
#   OVERNIGHT_SERVICE_TYPE &lt;chr&gt;, PROGRAM_AREA &lt;chr&gt;, SERVICE_USER_COUNT &lt;dbl&gt;,
#   CAPACITY_TYPE &lt;chr&gt;, CAPACITY_ACTUAL_BED &lt;dbl&gt;, CAPACITY_FUNDING_BED &lt;dbl&gt;,
#   OCCUPIED_BEDS &lt;dbl&gt;, UNOCCUPIED_BEDS &lt;dbl&gt;, UNAVAILABLE_BEDS &lt;dbl&gt;, …</code></pre>
</div>
</div>
<p>이것을 우리가 관심 있었던 데이터셋(<a href="#fig-torontohomeless-data" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-torontohomeless-data</span></a>)과 유사하게 만들기 위해 많은 작업이 필요하지 않습니다. <code>clean_names()</code>를 사용하여 이름을 더 쉽게 입력할 수 있도록 변경하고, <code>select()</code>를 사용하여 관련 열만 남겨야 합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>toronto_shelters_clean <span class="ot">&lt;-</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>(toronto_shelters) <span class="sc">|&gt;</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">occupancy_date =</span> <span class="fu">ymd</span>(occupancy_date)) <span class="sc">|&gt;</span> </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(occupancy_date, occupied_beds)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(toronto_shelters_clean)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  occupancy_date occupied_beds
  &lt;date&gt;                 &lt;dbl&gt;
1 2021-01-01                NA
2 2021-01-01                NA
3 2021-01-01                NA
4 2021-01-01                NA
5 2021-01-01                NA
6 2021-01-01                 6</code></pre>
</div>
</div>
<p>남은 것은 정리된 데이터셋을 저장하는 것입니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> toronto_shelters_clean,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"cleaned_toronto_shelters.csv"</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="탐색-1" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="탐색-1"><span class="header-section-number">2.3.4</span> 탐색</h3>
<p>먼저, 방금 만든 데이터셋을 로드합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 탐색 ####</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>toronto_shelters_clean <span class="ot">&lt;-</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cleaned_toronto_shelters.csv"</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>데이터셋에는 각 쉼터에 대한 일일 기록이 포함되어 있습니다. 우리는 각 월의 평균 사용량을 이해하는 데 관심이 있습니다. 이를 위해 <code>lubridate</code>의 <code>month()</code>를 사용하여 월 열을 추가해야 합니다. 기본적으로 <code>month()</code>는 월의 숫자를 제공하므로, 월의 전체 이름을 얻기 위해 “label”과 “abbr” 두 가지 인수를 포함합니다. <code>tidyverse</code>의 일부인 <code>tidyr</code>의 <code>drop_na()</code>를 사용하여 침대 수에 대한 데이터가 없는 행을 제거합니다. 우리는 시작하는 데 중점을 두기 때문에 여기서는 생각 없이 이 작업을 수행할 것이지만, 이는 중요한 결정이며 <a href="#sec-farm-data와" class="quarto-xref"><span class="quarto-unresolved-ref">sec-farm-data와</span></a> <a href="#sec-exploratory-data-analysis에서" class="quarto-xref"><span class="quarto-unresolved-ref">sec-exploratory-data-analysis에서</span></a> 누락된 데이터에 대해 더 자세히 이야기합니다. 그런 다음 <code>dplyr</code>의 <code>summarise()</code>를 사용하여 월별 그룹을 기반으로 요약 통계를 생성합니다. <code>tinytable</code>의 <code>tt()</code>를 사용하여 <a href="#tbl-homelessoccupancyd를" class="quarto-xref">표&nbsp;<span class="quarto-unresolved-ref">tbl-homelessoccupancyd를</span></a> 생성합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>toronto_shelters_clean <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">occupancy_month =</span> <span class="fu">month</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    occupancy_date,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="cn">TRUE</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">abbr =</span> <span class="cn">FALSE</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">month</span>(occupancy_date)) <span class="sc">|&gt;</span> </span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(occupied_beds) <span class="sc">|&gt;</span> </span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">number_occupied =</span> <span class="fu">mean</span>(occupied_beds),</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> occupancy_month) <span class="sc">|&gt;</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>()</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-homelessoccupancyd" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-homelessoccupancyd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
표&nbsp;2.1: 2021년 토론토 쉼터 사용량
</figcaption>
<div aria-describedby="tbl-homelessoccupancyd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_wm874beqmvjhjndoe8eb(i, j, css_id) {
          var table = document.getElementById("tinytable_wm874beqmvjhjndoe8eb");
          var cell = table.querySelector(`[data-row="${i}"][data-col="${j}"]`);
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_wm874beqmvjhjndoe8eb');
        // Find the row with data-row attribute matching i
        var targetRow = table.querySelector(`tr [data-row="${i}"]`).closest('tr');
        var newRow = table.insertRow(targetRow.rowIndex);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        newCell.setAttribute("data-col", "0");
        newCell.setAttribute("data-row", i - 1);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_wm874beqmvjhjndoe8eb(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_wm874beqmvjhjndoe8eb");
        const targetCell = table.querySelector(`[data-row="${i}"][data-col="${j}"]`);
        if (!targetCell) {
          console.warn(`Cell at (${i}, ${j}) not found.`);
        }

        // Get all cells that need to be removed
        const cellsToRemove = [];
        for (let r = 0; r < rowspan; r++) {
          for (let c = 0; c < colspan; c++) {
            if (r === 0 && c === 0) continue; // Skip the target cell
            const cell = table.querySelector(`[data-row="${i + r}"][data-col="${j + c}"]`);
            if (cell) {
              cellsToRemove.push(cell);
            }
          }
        }

        // Remove all cells
        cellsToRemove.forEach(cell => cell.remove());

        // Set rowspan and colspan of the target cell if it exists
        if (targetCell) {
          targetCell.rowSpan = rowspan;
          targetCell.colSpan = colspan;
        }
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '12', j: 0 }, { i: '12', j: 1 },  ], css_id: 'tinytable_css_yvmtgd0yavnsz6bj73jl',}, 
          { positions: [ { i: '0', j: 0 }, { i: '0', j: 1 },  ], css_id: 'tinytable_css_8g7317x6bqh56byck4rj',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_wm874beqmvjhjndoe8eb(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_yvmtgd0yavnsz6bj73jl, .table th.tinytable_css_yvmtgd0yavnsz6bj73jl { border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_8g7317x6bqh56byck4rj, .table th.tinytable_css_8g7317x6bqh56byck4rj { border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_wm874beqmvjhjndoe8eb" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col" data-row="0" data-col="0">occupancy_month</th>
                <th scope="col" data-row="0" data-col="1">number_occupied</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="0">January</td>
                  <td data-row="1" data-col="1">28.55708</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="0">February</td>
                  <td data-row="2" data-col="1">27.73821</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="0">March</td>
                  <td data-row="3" data-col="1">27.18521</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="0">April</td>
                  <td data-row="4" data-col="1">26.31561</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="0">May</td>
                  <td data-row="5" data-col="1">27.42596</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="0">June</td>
                  <td data-row="6" data-col="1">28.88300</td>
                </tr>
                <tr>
                  <td data-row="7" data-col="0">July</td>
                  <td data-row="7" data-col="1">29.67137</td>
                </tr>
                <tr>
                  <td data-row="8" data-col="0">August</td>
                  <td data-row="8" data-col="1">30.83975</td>
                </tr>
                <tr>
                  <td data-row="9" data-col="0">September</td>
                  <td data-row="9" data-col="1">31.65405</td>
                </tr>
                <tr>
                  <td data-row="10" data-col="0">October</td>
                  <td data-row="10" data-col="1">32.32991</td>
                </tr>
                <tr>
                  <td data-row="11" data-col="0">November</td>
                  <td data-row="11" data-col="1">33.26980</td>
                </tr>
                <tr>
                  <td data-row="12" data-col="0">December</td>
                  <td data-row="12" data-col="1">33.52426</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<p>이전과 마찬가지로, 이것은 괜찮아 보이며 우리가 목표로 한 것을 달성합니다. 그러나 기본값을 약간 조정하여 더 보기 좋게 만들 수 있습니다 (<a href="#tbl-homelessoccupancy" class="quarto-xref">표&nbsp;<span class="quarto-unresolved-ref">tbl-homelessoccupancy</span></a>). 특히 열 이름을 더 읽기 쉽게 만들고, 적절한 소수점 이하 자릿수만 표시하고, 정렬을 변경합니다 (<code>j</code>는 관심 있는 열 번호를 지정하는 데 사용되고 <code>r</code>은 정렬 유형, 즉 오른쪽 정렬입니다).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>toronto_shelters_clean <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">occupancy_month =</span> <span class="fu">month</span>(</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    occupancy_date,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="cn">TRUE</span>,</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">abbr =</span> <span class="cn">FALSE</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">month</span>(occupancy_date)) <span class="sc">|&gt;</span> </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(occupied_beds) <span class="sc">|&gt;</span> </span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">number_occupied =</span> <span class="fu">mean</span>(occupied_beds),</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> occupancy_month) <span class="sc">|&gt;</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tt</span>(</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style_tt</span>(<span class="at">j =</span> <span class="dv">2</span>, <span class="at">align =</span> <span class="st">"r"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">"월"</span>, <span class="st">"일일 평균 점유 침대 수"</span>))</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-homelessoccupancy" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-homelessoccupancy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
표&nbsp;2.2: 2021년 토론토 쉼터 사용량
</figcaption>
<div aria-describedby="tbl-homelessoccupancy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_6qtji6614dln4jijtsf7(i, j, css_id) {
          var table = document.getElementById("tinytable_6qtji6614dln4jijtsf7");
          var cell = table.querySelector(`[data-row="${i}"][data-col="${j}"]`);
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_6qtji6614dln4jijtsf7');
        // Find the row with data-row attribute matching i
        var targetRow = table.querySelector(`tr [data-row="${i}"]`).closest('tr');
        var newRow = table.insertRow(targetRow.rowIndex);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        newCell.setAttribute("data-col", "0");
        newCell.setAttribute("data-row", i - 1);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_6qtji6614dln4jijtsf7(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_6qtji6614dln4jijtsf7");
        const targetCell = table.querySelector(`[data-row="${i}"][data-col="${j}"]`);
        if (!targetCell) {
          console.warn(`Cell at (${i}, ${j}) not found.`);
        }

        // Get all cells that need to be removed
        const cellsToRemove = [];
        for (let r = 0; r < rowspan; r++) {
          for (let c = 0; c < colspan; c++) {
            if (r === 0 && c === 0) continue; // Skip the target cell
            const cell = table.querySelector(`[data-row="${i + r}"][data-col="${j + c}"]`);
            if (cell) {
              cellsToRemove.push(cell);
            }
          }
        }

        // Remove all cells
        cellsToRemove.forEach(cell => cell.remove());

        // Set rowspan and colspan of the target cell if it exists
        if (targetCell) {
          targetCell.rowSpan = rowspan;
          targetCell.colSpan = colspan;
        }
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '12', j: 1 },  ], css_id: 'tinytable_css_8m51kxg38htybzkg8gt8',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '6', j: 1 }, { i: '7', j: 1 }, { i: '8', j: 1 }, { i: '9', j: 1 }, { i: '10', j: 1 }, { i: '11', j: 1 },  ], css_id: 'tinytable_css_6p7cn08agcnm5ssg9ios',}, 
          { positions: [ { i: '0', j: 1 },  ], css_id: 'tinytable_css_65l49wi7husl66vd867j',}, 
          { positions: [ { i: '12', j: 0 },  ], css_id: 'tinytable_css_3ov5c0bin7746ek6lssp',}, 
          { positions: [ { i: '0', j: 0 },  ], css_id: 'tinytable_css_nz91i88bip16zgs7w38n',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_6qtji6614dln4jijtsf7(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_8m51kxg38htybzkg8gt8, .table th.tinytable_css_8m51kxg38htybzkg8gt8 { text-align: right; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_6p7cn08agcnm5ssg9ios, .table th.tinytable_css_6p7cn08agcnm5ssg9ios { text-align: right; }
      .table td.tinytable_css_65l49wi7husl66vd867j, .table th.tinytable_css_65l49wi7husl66vd867j { text-align: right; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_3ov5c0bin7746ek6lssp, .table th.tinytable_css_3ov5c0bin7746ek6lssp { border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_nz91i88bip16zgs7w38n, .table th.tinytable_css_nz91i88bip16zgs7w38n { border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_6qtji6614dln4jijtsf7" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col" data-row="0" data-col="0">월</th>
                <th scope="col" data-row="0" data-col="1">일일 평균 점유 침대 수</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="0">January</td>
                  <td data-row="1" data-col="1">29</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="0">February</td>
                  <td data-row="2" data-col="1">28</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="0">March</td>
                  <td data-row="3" data-col="1">27</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="0">April</td>
                  <td data-row="4" data-col="1">26</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="0">May</td>
                  <td data-row="5" data-col="1">27</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="0">June</td>
                  <td data-row="6" data-col="1">29</td>
                </tr>
                <tr>
                  <td data-row="7" data-col="0">July</td>
                  <td data-row="7" data-col="1">30</td>
                </tr>
                <tr>
                  <td data-row="8" data-col="0">August</td>
                  <td data-row="8" data-col="1">31</td>
                </tr>
                <tr>
                  <td data-row="9" data-col="0">September</td>
                  <td data-row="9" data-col="1">32</td>
                </tr>
                <tr>
                  <td data-row="10" data-col="0">October</td>
                  <td data-row="10" data-col="1">32</td>
                </tr>
                <tr>
                  <td data-row="11" data-col="0">November</td>
                  <td data-row="11" data-col="1">33</td>
                </tr>
                <tr>
                  <td data-row="12" data-col="0">December</td>
                  <td data-row="12" data-col="1">34</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="공유-1" class="level3" data-number="2.3.5">
<h3 data-number="2.3.5" class="anchored" data-anchor-id="공유-1"><span class="header-section-number">2.3.5</span> 공유</h3>
<p>우리는 우리가 한 일, 왜 했는지, 그리고 무엇을 발견했는지에 대해 몇 단락을 작성하여 작업을 요약해야 합니다. 예시는 다음과 같습니다.</p>
<blockquote class="blockquote">
<p>토론토에는 많은 노숙자 인구가 있습니다. 혹독한 겨울은 쉼터에 충분한 공간이 있는 것이 중요함을 의미합니다. 우리는 추운 달과 따뜻한 달에 쉼터 사용량이 어떻게 변하는지 이해하는 데 관심이 있습니다.</p>
<p>우리는 토론토 시에서 제공하는 토론토 쉼터 침대 점유율 데이터를 사용합니다. 특히, 매일 새벽 4시에 점유된 침대 수를 세어 측정합니다. 우리는 이를 월별 평균으로 계산하는 데 관심이 있습니다. 우리는 통계 프로그래밍 언어 R <span class="citation" data-cites="citeR">(<a href="#ref-citeR" role="doc-biblioref">R Core Team 2024</a>)</span>과 <code>tidyverse</code> <span class="citation" data-cites="Wickham2017">(<a href="#ref-Wickham2017" role="doc-biblioref">Wickham 2017</a>)</span>, <code>janitor</code> <span class="citation" data-cites="janitor">(<a href="#ref-janitor" role="doc-biblioref">Firke 2023</a>)</span>, <code>opendatatoronto</code> <span class="citation" data-cites="citeSharla">(<a href="#ref-citeSharla" role="doc-biblioref">Gelfand 2022</a>)</span>, <code>lubridate</code> <span class="citation" data-cites="GrolemundWickham2011">(<a href="#ref-GrolemundWickham2011" role="doc-biblioref">Grolemund 와/과 Wickham 2011</a>)</span>, <code>knitr</code> <span class="citation" data-cites="citeknitr">(<a href="#ref-citeknitr" role="doc-biblioref">Xie 2023</a>)</span>를 사용하여 데이터셋을 정리하고 정돈하고 분석했습니다. 그런 다음 각 월의 매일 밤 평균 점유 침대 수 표를 만들었습니다 (<a href="#tbl-homelessoccupancy" class="quarto-xref">표&nbsp;<span class="quarto-unresolved-ref">tbl-homelessoccupancy</span></a>).</p>
<p>2021년 12월의 일일 평균 점유 침대 수는 7월의 30개에 비해 34개로 더 높았습니다 (<a href="#tbl-homelessoccupancy" class="quarto-xref">표&nbsp;<span class="quarto-unresolved-ref">tbl-homelessoccupancy</span></a>). 더 일반적으로, 7월부터 12월까지 일일 평균 점유 침대 수가 꾸준히 증가했으며, 매월 약간의 전체적인 증가가 있었습니다.</p>
<p>데이터셋은 쉼터를 기반으로 하므로, 우리의 결과는 특히 크거나 작은 쉼터에 특정한 변화에 의해 왜곡될 수 있습니다. 특정 쉼터가 추운 달에 특히 매력적일 수 있습니다. 또한, 우리는 점유된 침대 수에 관심이 있었지만, 계절에 따라 침대 공급이 변한다면, 추가적인 관심 통계는 점유율이 될 것입니다.</p>
</blockquote>
<p>이 예제는 몇 단락에 불과하지만, 초록을 형성하도록 축소하거나, 각 단락을 섹션으로 확장하여 전체 보고서를 형성할 수 있습니다. 첫 번째 단락은 일반적인 개요, 두 번째 단락은 데이터에 초점, 세 번째 단락은 결과에 초점, 네 번째 단락은 토론입니다. <span class="citation" data-cites="hao2019의">(<a href="#ref-hao2019의" role="doc-biblioref"><strong>hao2019의?</strong></a>)</span> 예시를 따라, 네 번째 단락은 편향이 스며들 수 있는 영역을 고려하기에 좋은 곳입니다.</p>
</section>
</section>
<section id="신생아-사망률" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="신생아-사망률"><span class="header-section-number">2.4</span> 신생아 사망률</h2>
<p>신생아 사망률은 생후 첫 달 이내에 발생하는 사망을 의미합니다. 신생아 사망률(NMR)은 1,000명당 신생아 사망자 수입니다 <span class="citation" data-cites="unigme">(<a href="#ref-unigme" role="doc-biblioref">UN IGME 2021</a>)</span>. 제3차 지속 가능한 개발 목표(SDG)는 NMR을 12로 줄이는 것을 목표로 합니다. 이 예제에서는 지난 50년간 아르헨티나, 호주, 캐나다, 케냐의 추정 NMR 그래프를 만들 것입니다.</p>
<section id="계획-2" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="계획-2"><span class="header-section-number">2.4.1</span> 계획</h3>
<p>이 예제에서는 데이터셋이 어떻게 생겼는지, 그리고 그래프가 어떻게 생겼는지 생각해야 합니다.</p>
<p>데이터셋에는 국가와 연도를 지정하는 변수가 있어야 합니다. 또한 해당 국가의 해당 연도에 대한 NMR 추정치가 포함된 변수도 있어야 합니다. 대략적으로 <a href="#fig-nmrexample-data와" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-nmrexample-data와</span></a> 같아야 합니다.</p>
<div id="fig-nmrexample" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-nmrexample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-nmrexample" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-nmrexample-data" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-nmrexample-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-nmr_dataset_sketch.png" class="img-fluid figure-img" data-ref-parent="fig-nmrexample">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-nmrexample-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) 잠재적으로 유용한 NMR 데이터셋의 빠른 스케치
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-nmrexample" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-nmrexample-graph" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-nmrexample-graph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/02-NMRgraph.png" class="img-fluid figure-img" data-ref-parent="fig-nmrexample">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-nmrexample-graph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 시간 경과에 따른 국가별 NMR 그래프의 빠른 스케치
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-nmrexample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2.7: 신생아 사망률(NMR)에 대한 데이터셋 및 그래프 스케치
</figcaption>
</figure>
</div>
<p>우리는 x축에 연도, y축에 추정 NMR이 있는 그래프를 만들고 싶습니다. 각 국가는 자체 시리즈를 가져야 합니다. 우리가 찾고 있는 것의 빠른 스케치는 <a href="#fig-nmrexample-graph입니다" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-nmrexample-graph입니다</span></a>.</p>
</section>
<section id="시뮬레이션-2" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="시뮬레이션-2"><span class="header-section-number">2.4.2</span> 시뮬레이션</h3>
<p>우리는 계획과 일치하는 데이터를 시뮬레이션하고 싶습니다. 이 경우 국가, 연도, NMR 세 가지 열이 필요합니다.</p>
<p>Posit Cloud 내에서 새 Quarto 문서를 만들고 저장하십시오. 서문 문서를 추가하고 작업 공간을 설정하십시오. <code>tidyverse</code>, <code>janitor</code>, <code>lubridate</code>를 사용할 것입니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 서문 ####</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 목적: 지난 50년간 4개국의 신생아 사망률 데이터를 얻고 준비하여 그래프를 만듭니다.</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 저자: Rohan Alexander</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 이메일: rohan.alexander@utoronto.ca</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 날짜: 2022년 7월 1일</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 선행 조건: -</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="do">#### 작업 공간 설정 ####</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>패키지에 포함된 코드는 저자가 업데이트하고 새 버전을 출시함에 따라 때때로 변경될 수 있습니다. <code>packageVersion()</code>을 사용하여 사용 중인 패키지 버전을 확인할 수 있습니다. 예를 들어, <code>tidyverse</code> 버전 2.0.0과 <code>janitor</code> 버전 2.2.0을 사용하고 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">"tidyverse"</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] '2.0.0'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">"janitor"</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] '2.2.1'</code></pre>
</div>
</div>
<p>설치된 모든 패키지의 버전을 업데이트하려면 <code>update.packages()</code>를 사용합니다. <code>tidyverse_update()</code>를 사용하여 <code>tidyverse</code> 패키지만 설치할 수 있습니다. 이것은 매일 실행할 필요는 없지만, 때때로 패키지를 업데이트하는 것이 좋습니다. 많은 패키지가 하위 호환성을 보장하기 위해 노력하지만, 어느 시점부터는 불가능해집니다. 패키지를 업데이트하면 이전 코드를 다시 작성해야 할 수 있습니다. 시작할 때는 큰 문제가 아니며, 어쨌든 <a href="#sec-reproducible-workflows에서" class="quarto-xref"><span class="quarto-unresolved-ref">sec-reproducible-workflows에서</span></a> 다루는 특정 버전을 로드하는 도구가 있습니다.</p>
<p>시뮬레이션으로 돌아가서, <code>rep()</code>를 사용하여 각 국가의 이름을 50번 반복하고, 50년의 기간을 전달할 수 있도록 합니다. 마지막으로, <code>runif()</code>를 사용하여 균일 분포에서 추출하여 해당 국가의 해당 연도에 대한 추정 NMR 값을 시뮬레이션합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 데이터 시뮬레이션 ####</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">853</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>simulated_nmr_data <span class="ot">&lt;-</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">country =</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"Argentina"</span>, <span class="dv">50</span>), <span class="fu">rep</span>(<span class="st">"Australia"</span>, <span class="dv">50</span>), </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rep</span>(<span class="st">"Canada"</span>, <span class="dv">50</span>), <span class="fu">rep</span>(<span class="st">"Kenya"</span>, <span class="dv">50</span>)),</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1971</span><span class="sc">:</span><span class="dv">2020</span>), <span class="dv">4</span>),</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">nmr =</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">runif</span>(<span class="at">n =</span> <span class="dv">200</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">100</span>)</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(simulated_nmr_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country    year   nmr
  &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt;
1 Argentina  1971 35.9 
2 Argentina  1972 12.0 
3 Argentina  1973 48.4 
4 Argentina  1974 31.6 
5 Argentina  1975  3.74
6 Argentina  1976 40.4 </code></pre>
</div>
</div>
<p>이 시뮬레이션은 작동하지만, 50년 대신 60년을 시뮬레이션하는 데 관심이 있다면 시간이 많이 걸리고 오류가 발생하기 쉽습니다. 이 코드를 개선하는 한 가지 방법은 50의 모든 인스턴스를 변수로 대체하는 것입니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 데이터 시뮬레이션 ####</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">853</span>)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>number_of_years <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>simulated_nmr_data <span class="ot">&lt;-</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">country =</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"Argentina"</span>, number_of_years), <span class="fu">rep</span>(<span class="st">"Australia"</span>, number_of_years),</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rep</span>(<span class="st">"Canada"</span>, number_of_years), <span class="fu">rep</span>(<span class="st">"Kenya"</span>, number_of_years)),</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>number_of_years <span class="sc">+</span> <span class="dv">1970</span>), <span class="dv">4</span>),</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">nmr =</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">runif</span>(<span class="at">n =</span> number_of_years <span class="sc">*</span> <span class="dv">4</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">100</span>)</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(simulated_nmr_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country    year   nmr
  &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;
1 Argentina  1971 35.9 
2 Argentina  1972 12.0 
3 Argentina  1973 48.4 
4 Argentina  1974 31.6 
5 Argentina  1975  3.74
6 Argentina  1976 40.4 </code></pre>
</div>
</div>
<p>결과는 동일하지만, 이제 50년에서 60년으로 변경하려면 한 곳에서만 변경하면 됩니다.</p>
<p>이 시뮬레이션된 데이터셋은 비교적 간단하고 우리가 코드를 작성했기 때문에 신뢰할 수 있습니다. 그러나 실제 데이터셋으로 전환할 때, 그것이 주장하는 바와 일치하는지 확인하기가 더 어렵습니다. 데이터를 신뢰하더라도, 그 신뢰를 다른 사람들과 공유할 수 있어야 합니다. 한 가지 방법은 데이터가 제대로 되어 있는지 테스트를 설정하는 것입니다. 예를 들어, 우리는 다음을 예상합니다:</p>
<ol type="1">
<li>“country”는 이 네 가지 중 하나여야 합니다: “Argentina”, “Australia”, “Canada”, “Kenya”.</li>
<li>반대로, “country”는 이 네 가지 국가를 모두 포함해야 합니다.</li>
<li>“year”는 1971보다 작거나 2020보다 크지 않아야 하며, 정수여야 합니다. 문자나 소수점이 있는 숫자가 아니어야 합니다.</li>
<li>“nmr”은 0에서 1,000 사이의 값이어야 하며, 숫자여야 합니다.</li>
</ol>
<p>이러한 기능을 기반으로 데이터셋이 통과할 것으로 예상되는 일련의 테스트를 작성할 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>simulated_nmr_data<span class="sc">$</span>country <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Argentina"</span>, <span class="st">"Australia"</span>, <span class="st">"Canada"</span>, <span class="st">"Kenya"</span>)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>simulated_nmr_data<span class="sc">$</span>country <span class="sc">|&gt;</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">|&gt;</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>() <span class="sc">==</span> <span class="dv">4</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>simulated_nmr_data<span class="sc">$</span>year <span class="sc">|&gt;</span> <span class="fu">min</span>() <span class="sc">==</span> <span class="dv">1971</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>simulated_nmr_data<span class="sc">$</span>year <span class="sc">|&gt;</span> <span class="fu">max</span>() <span class="sc">==</span> <span class="dv">2020</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>simulated_nmr_data<span class="sc">$</span>nmr <span class="sc">|&gt;</span> <span class="fu">min</span>() <span class="sc">&gt;=</span> <span class="dv">0</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>simulated_nmr_data<span class="sc">$</span>nmr <span class="sc">|&gt;</span> <span class="fu">max</span>() <span class="sc">&lt;=</span> <span class="dv">1000</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>simulated_nmr_data<span class="sc">$</span>nmr <span class="sc">|&gt;</span> <span class="fu">class</span>() <span class="sc">==</span> <span class="st">"numeric"</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>이러한 테스트를 통과했으므로 시뮬레이션된 데이터셋을 신뢰할 수 있습니다. 더 중요한 것은 이러한 테스트를 실제 데이터셋에 적용할 수 있다는 것입니다. 이를 통해 해당 데이터셋에 대한 신뢰를 높이고 그 신뢰를 다른 사람들과 공유할 수 있습니다.</p>
</section>
<section id="획득-2" class="level3" data-number="2.4.3">
<h3 data-number="2.4.3" class="anchored" data-anchor-id="획득-2"><span class="header-section-number">2.4.3</span> 획득</h3>
<p>유엔 아동 사망률 추정 기관 간 그룹(IGME)은 다운로드하여 저장할 수 있는 NMR 추정치를 <a href="https://childmortality.org/">제공</a>합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 데이터 획득 ####</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>raw_igme_data <span class="ot">&lt;-</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">file =</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"https://childmortality.org/wp-content/uploads/2021/09/UNIGME-2021.csv"</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(<span class="at">x =</span> raw_igme_data, <span class="at">file =</span> <span class="st">"igme.csv"</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>이와 같이 확립된 데이터의 경우, 데이터에 대한 지원 자료를 읽는 것이 유용할 수 있습니다. 이 경우 코드북은 <a href="https://childmortality.org/wp-content/uploads/2021/03/CME-Info_codebook_for_downloads.xlsx">여기</a>에서 사용할 수 있습니다. 이 후에는 데이터셋을 더 잘 이해하기 위해 빠르게 살펴볼 수 있습니다. <code>head()</code>로 데이터셋이 어떻게 생겼는지, <code>tail()</code>로 마지막 여섯 행을, <code>names()</code>로 열 이름을 확인할 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(raw_igme_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 29
  `Geographic area` Indicator              Sex   `Wealth Quintile` `Series Name`
  &lt;chr&gt;             &lt;chr&gt;                  &lt;chr&gt; &lt;chr&gt;             &lt;chr&gt;        
1 Afghanistan       Neonatal mortality ra… Total Total             Multiple Ind…
2 Afghanistan       Neonatal mortality ra… Total Total             Multiple Ind…
3 Afghanistan       Neonatal mortality ra… Total Total             Multiple Ind…
4 Afghanistan       Neonatal mortality ra… Total Total             Multiple Ind…
5 Afghanistan       Neonatal mortality ra… Total Total             Multiple Ind…
6 Afghanistan       Neonatal mortality ra… Total Total             Afghanistan …
# ℹ 24 more variables: `Series Year` &lt;chr&gt;, `Regional group` &lt;chr&gt;,
#   TIME_PERIOD &lt;chr&gt;, OBS_VALUE &lt;dbl&gt;, COUNTRY_NOTES &lt;chr&gt;, CONNECTION &lt;lgl&gt;,
#   DEATH_CATEGORY &lt;lgl&gt;, CATEGORY &lt;chr&gt;, `Observation Status` &lt;chr&gt;,
#   `Unit of measure` &lt;chr&gt;, `Series Category` &lt;chr&gt;, `Series Type` &lt;chr&gt;,
#   STD_ERR &lt;dbl&gt;, REF_DATE &lt;dbl&gt;, `Age Group of Women` &lt;chr&gt;,
#   `Time Since First Birth` &lt;chr&gt;, DEFINITION &lt;chr&gt;, INTERVAL &lt;dbl&gt;,
#   `Series Method` &lt;chr&gt;, LOWER_BOUND &lt;dbl&gt;, UPPER_BOUND &lt;dbl&gt;, …</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(raw_igme_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Geographic area"        "Indicator"              "Sex"                   
 [4] "Wealth Quintile"        "Series Name"            "Series Year"           
 [7] "Regional group"         "TIME_PERIOD"            "OBS_VALUE"             
[10] "COUNTRY_NOTES"          "CONNECTION"             "DEATH_CATEGORY"        
[13] "CATEGORY"               "Observation Status"     "Unit of measure"       
[16] "Series Category"        "Series Type"            "STD_ERR"               
[19] "REF_DATE"               "Age Group of Women"     "Time Since First Birth"
[22] "DEFINITION"             "INTERVAL"               "Series Method"         
[25] "LOWER_BOUND"            "UPPER_BOUND"            "STATUS"                
[28] "YEAR_TO_ACHIEVE"        "Model Used"            </code></pre>
</div>
</div>
<p>이름을 정리하고 관심 있는 행과 열만 유지하고 싶습니다. 계획에 따라 “Sex”가 “Total”, “Series Name”이 “UN IGME estimate”, “Geographic area”가 “Argentina”, “Australia”, “Canada”, “Kenya” 중 하나, “Indicator”가 “Neonatal mortality rate”인 행에 관심이 있습니다. 이 후에는 “geographic_area”, “time_period”, “obs_value” 몇 개의 열에만 관심이 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data <span class="ot">&lt;-</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>(raw_igme_data) <span class="sc">|&gt;</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    sex <span class="sc">==</span> <span class="st">"Total"</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    series_name <span class="sc">==</span> <span class="st">"UN IGME estimate"</span>,</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>    geographic_area <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Argentina"</span>, <span class="st">"Australia"</span>, <span class="st">"Canada"</span>, <span class="st">"Kenya"</span>),</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>    indicator <span class="sc">==</span> <span class="st">"Neonatal mortality rate"</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(geographic_area, time_period, obs_value)</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cleaned_igme_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  geographic_area time_period obs_value
  &lt;chr&gt;           &lt;chr&gt;           &lt;dbl&gt;
1 Argentina       1970-06          24.9
2 Argentina       1971-06          24.7
3 Argentina       1972-06          24.6
4 Argentina       1973-06          24.6
5 Argentina       1974-06          24.5
6 Argentina       1975-06          24.1</code></pre>
</div>
</div>
<p>두 가지 다른 측면을 수정해야 합니다: “time_period”의 클래스는 문자이지만 연도여야 하고, “obs_value”의 이름은 더 유익하도록 “nmr”로 변경해야 합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data <span class="ot">&lt;-</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  cleaned_igme_data <span class="sc">|&gt;</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_period =</span> <span class="fu">str_remove</span>(time_period, <span class="st">"-06"</span>),</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_period =</span> <span class="fu">as.integer</span>(time_period)</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_period <span class="sc">&gt;=</span> <span class="dv">1971</span>) <span class="sc">|&gt;</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">nmr =</span> obs_value, <span class="at">year =</span> time_period, <span class="at">country =</span> geographic_area)</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cleaned_igme_data)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country    year   nmr
  &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt;
1 Argentina  1971  24.7
2 Argentina  1972  24.6
3 Argentina  1973  24.6
4 Argentina  1974  24.5
5 Argentina  1975  24.1
6 Argentina  1976  23.3</code></pre>
</div>
</div>
<p>마지막으로, 시뮬레이션된 데이터셋을 기반으로 개발한 테스트를 데이터셋이 통과하는지 확인할 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data<span class="sc">$</span>country <span class="sc">|&gt;</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Argentina"</span>, <span class="st">"Australia"</span>, <span class="st">"Canada"</span>, <span class="st">"Kenya"</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE TRUE TRUE TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data<span class="sc">$</span>country <span class="sc">|&gt;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">|&gt;</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>() <span class="sc">==</span> <span class="dv">4</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data<span class="sc">$</span>year <span class="sc">|&gt;</span> <span class="fu">min</span>() <span class="sc">==</span> <span class="dv">1971</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data<span class="sc">$</span>year <span class="sc">|&gt;</span> <span class="fu">max</span>() <span class="sc">==</span> <span class="dv">2020</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data<span class="sc">$</span>nmr <span class="sc">|&gt;</span> <span class="fu">min</span>() <span class="sc">&gt;=</span> <span class="dv">0</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data<span class="sc">$</span>nmr <span class="sc">|&gt;</span> <span class="fu">max</span>() <span class="sc">&lt;=</span> <span class="dv">1000</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data<span class="sc">$</span>nmr <span class="sc">|&gt;</span> <span class="fu">class</span>() <span class="sc">==</span> <span class="st">"numeric"</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>남은 것은 깔끔하게 정리된 데이터셋을 저장하는 것입니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(<span class="at">x =</span> cleaned_igme_data, <span class="at">file =</span> <span class="st">"cleaned_igme_data.csv"</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="탐색-2" class="level3" data-number="2.4.4">
<h3 data-number="2.4.4" class="anchored" data-anchor-id="탐색-2"><span class="header-section-number">2.4.4</span> 탐색</h3>
<p>정리된 데이터셋을 사용하여 추정 NMR 그래프를 만들고 싶습니다. 먼저, 데이터셋을 읽어들입니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 탐색 ####</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data <span class="ot">&lt;-</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">file =</span> <span class="st">"cleaned_igme_data.csv"</span>,</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>이제 NMR이 시간 경과에 따라 어떻게 변했는지, 그리고 국가 간의 차이를 그래프로 만들 수 있습니다 (<a href="#fig-nmrgraph" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-nmrgraph</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>cleaned_igme_data <span class="sc">|&gt;</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> nmr, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"연도"</span>, <span class="at">y =</span> <span class="st">"신생아 사망률(NMR)"</span>, <span class="at">color =</span> <span class="st">"국가"</span>) <span class="sc">+</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>) <span class="sc">+</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-nmrgraph" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-nmrgraph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-drinking_from_a_fire_hose_ko_files/figure-html/fig-nmrgraph-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-nmrgraph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2.8: 아르헨티나, 호주, 캐나다, 케냐의 신생아 사망률(NMR) (1971-2020)
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="공유-2" class="level3" data-number="2.4.5">
<h3 data-number="2.4.5" class="anchored" data-anchor-id="공유-2"><span class="header-section-number">2.4.5</span> 공유</h3>
<p>이 시점까지 우리는 데이터를 다운로드하고, 정리하고, 테스트를 작성하고, 그래프를 만들었습니다. 일반적으로 우리가 한 일을 어느 정도 자세히 전달해야 합니다. 이 경우, 우리가 한 일, 왜 했는지, 그리고 무엇을 발견했는지에 대해 몇 단락을 작성할 것입니다.</p>
<blockquote class="blockquote">
<p>신생아 사망률은 생후 첫 달 이내에 발생하는 사망을 의미합니다. 특히, 신생아 사망률(NMR)은 1,000명당 신생아 사망자 수입니다. 우리는 지난 50년간 아르헨티나, 호주, 캐나다, 케냐 네 개국의 NMR 추정치를 얻습니다.</p>
<p>유엔 아동 사망률 추정 기관 간 그룹(IGME)은 웹사이트 https://childmortality.org/에서 NMR 추정치를 제공합니다. 우리는 그들의 추정치를 다운로드한 다음 통계 프로그래밍 언어 R <span class="citation" data-cites="citeR">(<a href="#ref-citeR" role="doc-biblioref">R Core Team 2024</a>)</span>을 사용하여 데이터셋을 정리하고 정돈했습니다.</p>
<p>우리는 시간 경과에 따른 추정 NMR과 관심 있는 네 개국 간의 상당한 변화를 발견했습니다 (<a href="#fig-nmrgraph" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-nmrgraph</span></a>). 1970년대에는 추정 NMR이 감소하는 경향이 있었습니다. 호주와 캐나다는 그 시점에서 낮은 NMR을 보였고 2020년까지 그 수준을 유지했으며, 약간 더 감소했습니다. 아르헨티나와 케냐의 추정치는 2020년까지 계속해서 상당한 감소를 보였습니다.</p>
<p>우리의 결과는 시간 경과에 따른 추정 NMR의 상당한 개선을 시사합니다. NMR 추정치는 추정치를 뒷받침하는 통계 모델과 기본 데이터에 기반합니다. 데이터의 이중 부담은 종종 결과가 좋지 않은 그룹, 이 경우 국가에 대해 고품질 데이터를 쉽게 사용할 수 없다는 것입니다. 우리의 결론은 추정치를 뒷받침하는 모델과 기본 데이터의 품질에 따라 달라지며, 우리는 이들 중 어느 것도 독립적으로 검증하지 않았습니다.</p>
</blockquote>
</section>
</section>
<section id="결론" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="결론"><span class="header-section-number">2.5</span> 결론</h2>
<p>이 장에서 많은 내용을 다루었으며, 모든 것을 이해하지 못하는 것은 정상입니다. 가장 좋은 방법은 세 가지 사례 연구를 각자 시간을 내어 살펴보는 것입니다. 복사-붙여넣기 대신 모든 코드를 직접 입력하고, 완전히 이해하지 못하더라도 조금씩 실행하십시오. 그런 다음 자신만의 주석을 추가해 보십시오.</p>
<p>또한 이 시점에서 이 장의 모든 것을 완전히 이해할 필요는 없습니다. 일부 학생들은 이 책의 다음 몇 장을 계속해서 읽고 나중에 이 장으로 돌아오는 것이 가장 좋다고 생각합니다. 흥미롭게도 우리는 한두 시간의 작업만으로 데이터를 사용하여 세상에 대해 무언가를 배울 수 있음을 보여주었습니다. 이러한 기술을 개발하면서, 우리는 또한 우리 작업의 더 넓은 영향에 대해 점점 더 정교하게 고려해야 합니다.</p>
<blockquote class="blockquote">
<p>“우리는 우리 작업의 사회적 영향에 대해 생각할 필요가 없습니다. 왜냐하면 그것은 어렵고 다른 사람들이 우리를 위해 할 수 있기 때문입니다.”는 정말 나쁜 주장입니다. 저는 CV [컴퓨터 비전] 연구를 중단했습니다. 왜냐하면 제 작업이 미치는 영향을 보았기 때문입니다. 저는 그 작업을 좋아했지만, 군사적 응용과 개인 정보 보호 문제는 결국 무시할 수 없게 되었습니다. 그러나 기본적으로 모든 얼굴 인식 작업은 우리가 더 넓은 영향 섹션을 진지하게 받아들인다면 출판되지 않을 것입니다. 거의 이점이 없고 엄청난 단점 위험이 있습니다. 공정하게 말하자면, 저는 여기서 많은 겸손을 가져야 합니다. 대학원 대부분 동안 저는 과학이 비정치적이고 연구는 주제가 무엇이든 객관적으로 도덕적이고 좋다는 신화를 믿었습니다.</p>
<p>Joe Redmon, 2020년 2월 20일</p>
</blockquote>
<p>“데이터 과학”이라는 용어는 학계, 산업계, 심지어 더 일반적으로도 널리 사용되지만, 우리가 보았듯이 정의하기 어렵습니다. 데이터 과학에 대한 의도적으로 적대적인 정의는 “인간성을 셀 수 있는 것으로 비인간적으로 축소하는 것”입니다 <span class="citation" data-cites="keyes2019">(<a href="#ref-keyes2019" role="doc-biblioref">Keyes 2019</a>)</span>. 의도적으로 논란의 여지가 있지만, 이 정의는 지난 10년 동안 데이터 과학 및 양적 방법론에 대한 수요가 증가한 한 가지 이유를 강조합니다. 즉, 개인과 그들의 행동이 이제 그 중심에 있다는 것입니다. 많은 기술은 수십 년 동안 존재했지만, 지금 인기를 끄는 것은 이러한 인간 중심적인 접근 방식입니다.</p>
<p>불행히도, 많은 작업이 개인에게 초점을 맞추고 있음에도 불구하고, 개인 정보 보호 및 동의 문제, 그리고 더 넓은 윤리적 문제는 거의 최우선으로 고려되지 않는 것 같습니다. 일부 예외는 있지만, 일반적으로 AI, 머신러닝, 데이터 과학이 사회를 혁신할 것이라고 주장하면서도, 이러한 유형의 문제는 혁명을 받아들이기 전에 생각해야 할 것이 아니라, 있으면 좋은 것으로 취급되는 경향이 있습니다.</p>
<p>대부분의 경우, 이러한 유형의 문제는 새로운 것이 아닙니다. 과학 분야에서는 CRISPR 기술과 유전자 편집에 대한 광범위한 윤리적 고려가 있었습니다 <span class="citation" data-cites="brokowski2019crispr marchese2022">(<a href="#ref-brokowski2019crispr" role="doc-biblioref">Brokowski 와/과 Adli 2019</a>; <a href="#ref-marchese2022" role="doc-biblioref">Marchese 2022</a>)</span>. 그리고 이전 시대에는 유사한 대화가 있었습니다. 예를 들어, 베르너 폰 브라운이 나치 독일을 위해 로켓을 만들었음에도 불구하고 미국을 위해 로켓을 만들도록 허용된 것에 대한 논의가 있었습니다 <span class="citation" data-cites="neufeld2002wernher wilford1977">(<a href="#ref-neufeld2002wernher" role="doc-biblioref">Neufeld 2002</a>; <a href="#ref-wilford1977" role="doc-biblioref">Wilford 1977</a>)</span>. 의학 분야에서는 이러한 우려가 오랫동안 최우선으로 고려되었습니다 <span class="citation" data-cites="american1848code">(<a href="#ref-american1848code" role="doc-biblioref">American Medical Association and New York Academy of Medicine 1848</a>)</span>. 데이터 과학은 다른 분야의 경험을 바탕으로 이러한 문제를 생각하고 사전에 해결하기보다는 자체적인 터스키기 순간을 맞이할 운명인 것 같습니다.</p>
<p>그렇긴 하지만, 일부 데이터 과학자들이 실습을 둘러싼 윤리에 대해 더 많은 관심을 갖기 시작했다는 증거가 있습니다. 예를 들어, 권위 있는 머신러닝 컨퍼런스인 NeurIPS는 2020년부터 모든 제출물에 윤리적 측면에 대한 진술을 요구하고 있습니다.</p>
<blockquote class="blockquote">
<p>균형 잡힌 관점을 제공하기 위해 저자는 윤리적 측면 및 미래 사회적 결과를 포함하여 작업의 잠재적인 더 넓은 영향에 대한 진술을 포함해야 합니다. 저자는 긍정적인 결과와 부정적인 결과를 모두 논의하도록 주의해야 합니다.</p>
<p>NeurIPS 2020 컨퍼런스 논문 모집</p>
</blockquote>
<p>데이터 과학의 윤리적 고려와 더 넓은 영향에 대한 우려의 목적은 어떤 것을 규범적으로 허용하거나 금지하는 것이 아니라, 가장 중요하게 다루어져야 할 몇 가지 문제를 제기할 기회를 제공하는 것입니다. 데이터 과학 응용의 다양성, 분야의 상대적인 젊음, 그리고 변화의 속도는 그러한 고려 사항이 때때로 의도적으로 제쳐두어지며, 이는 해당 분야의 나머지 부분에서 허용된다는 것을 의미합니다. 이는 과학, 의학, 공학, 회계와 같은 분야와 대조됩니다. 아마도 이러한 분야는 더 자각적일 것입니다 (<a href="#fig-personalprobability" class="quarto-xref">그림&nbsp;<span class="quarto-unresolved-ref">fig-personalprobability</span></a>).</p>
<div id="fig-personalprobability" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-personalprobability-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figures/probability.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-personalprobability-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2.9: 랜달 먼로의 “확률”에서 보여주듯이 숫자는 맥락에서 벗어날 수 없습니다: https://xkcd.com/881/.
</figcaption>
</figure>
</div>
</section>
<section id="연습-문제" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="연습-문제"><span class="header-section-number">2.6</span> 연습 문제</h2>
<section id="퀴즈" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="퀴즈">퀴즈</h3>
<ol type="1">
<li>데이터 과학이란 무엇입니까 (자신의 말로)?</li>
<li><span class="citation" data-cites="register2020에">(<a href="#ref-register2020에" role="doc-biblioref"><strong>register2020에?</strong></a>)</span> 따르면, 데이터 결정은 (하나를 선택하십시오)?
<ol type="a">
<li>실제 사람들에게 영향을 미칩니다.</li>
<li>아무에게도 영향을 미치지 않습니다.</li>
<li>훈련 세트에 있는 사람들에게 영향을 미칩니다.</li>
<li>테스트 세트에 있는 사람들에게 영향을 미칩니다.</li>
</ol></li>
<li><span class="citation" data-cites="keyes2019에">(<a href="#ref-keyes2019에" role="doc-biblioref"><strong>keyes2019에?</strong></a>)</span> 따르면, 데이터 과학이란 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>데이터 과학은 과학적 방법, 프로세스, 알고리즘 및 시스템을 사용하여 많은 구조화된 및 비구조화된 데이터에서 지식과 통찰력을 추출하는 학제 간 분야입니다.</li>
<li>의사 결정을 위한 대량의 데이터에 대한 양적 분석.</li>
<li>인간성을 셀 수 있는 것으로 비인간적으로 축소하는 것.</li>
</ol></li>
<li><span class="citation" data-cites="keyes2019에">(<a href="#ref-keyes2019에" role="doc-biblioref"><strong>keyes2019에?</strong></a>)</span> 따르면, 표준화된 범주를 요구하는 데이터 시스템의 한 가지 결과는 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>사용자 경험 저하.</li>
<li>보안 조치 손상.</li>
<li>기술 혁신 증가.</li>
<li>개인의 정체성과 경험의 말소.</li>
</ol></li>
<li><span class="citation" data-cites="kieranskitchen에">(<a href="#ref-kieranskitchen에" role="doc-biblioref"><strong>kieranskitchen에?</strong></a>)</span> 따르면, 데이터를 다루는 것에 대한 일반적인 비판은 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>너무 시간이 많이 걸리고 비효율적이라는 것.</li>
<li>숫자 뒤에 있는 인간 삶의 현실과 거리를 두게 한다는 것.</li>
<li>분석을 위해 값비싼 소프트웨어와 광범위한 훈련이 필요하다는 것.</li>
</ol></li>
<li><span class="citation" data-cites="kieranskitchen에">(<a href="#ref-kieranskitchen에" role="doc-biblioref"><strong>kieranskitchen에?</strong></a>)</span> 따르면, 그 비판에 대한 한 가지 답변은 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>데이터를 다루는 것은 의미에 대한 질문과 대면하게 합니다.</li>
<li>데이터 분석은 수행되어서는 안 됩니다.</li>
<li>데이터는 자동화된 프로세스에 의해서만 분석되어야 합니다.</li>
<li>질적 접근 방식이 지배적인 접근 방식이어야 합니다.</li>
</ol></li>
<li><span class="citation" data-cites="keyes2019와">(<a href="#ref-keyes2019와" role="doc-biblioref"><strong>keyes2019와?</strong></a>)</span> <span class="citation" data-cites="kieranskitchen을">(<a href="#ref-kieranskitchen을" role="doc-biblioref"><strong>kieranskitchen을?</strong></a>)</span> 어떻게 조화시킬 수 있습니까?</li>
<li>윤리가 데이터 과학의 핵심 요소인 이유는 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>데이터 과학은 항상 민감한 개인 정보를 포함하기 때문입니다.</li>
<li>윤리적 고려 사항이 분석을 더 쉽게 만들기 때문입니다.</li>
<li>데이터셋은 인간과 관련될 가능성이 높으며 맥락을 고려해야 하기 때문입니다.</li>
<li>규제가 모든 데이터 분석에 윤리 승인을 요구하기 때문입니다.</li>
</ol></li>
<li>이 장에서 설명된 <span class="citation" data-cites="crawford에">(<a href="#ref-crawford에" role="doc-biblioref"><strong>crawford에?</strong></a>)</span> 따르면, 다음 중 우리 세상과 따라서 우리의 데이터를 형성하는 힘은 무엇입니까 (모두 선택하십시오)?
<ol type="a">
<li>정치적.</li>
<li>물리적.</li>
<li>역사적.</li>
<li>문화적.</li>
<li>사회적.</li>
</ol></li>
<li><span class="citation" data-cites="nottomford에">(<a href="#ref-nottomford에" role="doc-biblioref"><strong>nottomford에?</strong></a>)</span> 따르면, 컴파일러란 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>파일에 입력한 기호를 하위 수준 명령으로 변환하는 소프트웨어.</li>
<li>누군가가 입력하거나 복사하거나 다른 곳에서 붙여넣은 일련의 기호 (일반적인 키보드 문자를 사용하여 어떤 종류의 파일로 저장됨).</li>
<li>이점이 있는 시계.</li>
<li>펀치 카드에 구멍을 뚫고, 상자에 넣고, 로드한 다음, 컴퓨터가 카드를 넘겨 구멍이 있는 곳을 식별하고 메모리 일부를 업데이트하는 것.</li>
</ol></li>
<li>성별에 대한 설문조사 결과가 다음과 같다고 가정해 봅시다: “남성: 879”, “여성: 912”, “논바이너리: 10”, “말하고 싶지 않음: 3”, “기타: 1”. “말하고 싶지 않음”을 고려하는 적절한 방법은 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>삭제합니다.</li>
<li>상황에 따라 다릅니다.</li>
<li>포함합니다.</li>
<li>“기타”로 병합합니다.</li>
</ol></li>
<li>인종 및/또는 성별을 예측 변수로 포함하면 모델의 성능이 향상되는 직업을 가지고 있다고 가정해 봅시다. 분석에 이러한 변수를 포함할지 여부를 결정할 때 어떤 요소를 고려할 것입니까 (자신의 말로)?</li>
<li>데이터 과학에서 재현성이란 무엇을 의미합니까 (하나를 선택하십시오)?
<ol type="a">
<li>다른 데이터셋으로 유사한 결과를 생성할 수 있는 것.</li>
<li>분석의 모든 단계를 다른 사람이 독립적으로 다시 수행할 수 있도록 보장하는 것.</li>
<li>동료 심사 저널에 결과를 게시하는 것.</li>
<li>데이터를 보호하기 위해 독점 소프트웨어를 사용하는 것.</li>
</ol></li>
<li>측정과 관련된 과제는 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>일반적으로 간단하고 거의 주의를 기울일 필요가 없습니다.</li>
<li>무엇을 어떻게 측정할지 결정하는 것은 복잡하고 맥락에 따라 다릅니다.</li>
<li>데이터 수집은 객관적이고 편향이 없습니다.</li>
<li>측정은 항상 정확하고 시간이 지나도 일관적입니다.</li>
</ol></li>
<li>조각가 비유에서 조각하는 행위는 데이터 워크플로우에서 무엇을 나타냅니까 (하나를 선택하십시오)?
<ol type="a">
<li>데이터에 맞는 복잡한 모델을 생성하는 것.</li>
<li>원시 데이터를 획득하는 것.</li>
<li>필요한 데이터셋을 드러내기 위해 데이터를 정리하고 준비하는 것.</li>
<li>결과를 시각화하는 것.</li>
</ol></li>
<li>탐색적 데이터 분석(EDA)이 개방형 프로세스인 이유는 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>따라야 할 고정된 단계가 있기 때문입니다.</li>
<li>데이터의 형태와 패턴을 이해하기 위해 지속적인 반복이 필요하기 때문입니다.</li>
<li>구조화된 방식으로 가설을 테스트하는 것을 포함하기 때문입니다.</li>
<li>자동화할 수 있기 때문입니다.</li>
</ol></li>
<li>통계 모델을 신중하게 사용해야 하는 이유는 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>항상 결정적인 결과를 제공하기 때문입니다.</li>
<li>초기 단계에서 내려진 결정을 반영할 수 있기 때문입니다.</li>
<li>대부분의 청중에게 너무 복잡하기 때문입니다.</li>
<li>데이터가 잘 제시되면 불필요하기 때문입니다.</li>
</ol></li>
<li>키 측정의 어려움에 대해 생각하는 것에서 얻을 수 있는 한 가지 교훈은 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>키는 변동성이 거의 없는 간단한 측정입니다.</li>
<li>모든 측정은 올바른 도구로 수행되면 정확합니다.</li>
<li>간단한 측정조차도 데이터 품질에 영향을 미치는 복잡성을 가질 수 있습니다.</li>
<li>키는 데이터 분석에서 유용한 변수가 아닙니다.</li>
</ol></li>
<li>데이터셋에서 누락된 사람을 고려하지 않는 것의 위험은 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>분석에 큰 영향을 미치지 않습니다.</li>
<li>데이터 양을 줄여 분석을 단순화합니다.</li>
<li>전체 맥락을 나타내지 않는 결론으로 이어질 수 있습니다.</li>
</ol></li>
<li>통계 모델링의 목적은 무엇입니까 (하나를 선택하십시오)?
<ol type="a">
<li>데이터를 탐색하고 이해하는 데 도움이 되는 도구.</li>
<li>가설을 증명하는 것.</li>
<li>탐색적 데이터 분석을 대체하는 것.</li>
</ol></li>
<li>“우리 데이터는 지저분하고 복잡한 세상의 단순화이다”라는 말은 무엇을 의미합니까 (하나를 선택하십시오)?
<ol type="a">
<li>데이터는 현실의 모든 측면을 완벽하게 포착합니다.</li>
<li>데이터는 분석을 가능하게 하기 위해 현실을 단순화하지만, 모든 세부 사항을 포착할 수는 없습니다.</li>
<li>데이터는 항상 부정확하고 쓸모없습니다.</li>
</ol></li>
</ol>
</section>
<section id="수업-활동" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="수업-활동">수업 활동</h3>
<ul>
<li>강사는 수업 사진을 찍은 다음 화면에 사진을 표시해야 합니다. 소그룹으로 학생들은 사진이 보여주는 세 가지 측면과 보여주지 않는 세 가지 측면을 식별해야 합니다. 이것이 데이터 과학과 어떻게 관련되는지 논의하십시오.</li>
<li>강사는 각 그룹에 측정에 사용할 다른 항목을 제공해야 합니다. 일부는 다른 것보다 더 유용합니다. 예를 들어, 줄자, 종이, 자, 마커, 저울 등. 그런 다음 학생들은 해당 항목을 사용하여 다음 질문에 답해야 합니다: “머리카락 길이는 얼마입니까?”. 숫자를 스프레드시트에 추가하십시오. 스프레드시트만 있다면 머리카락 길이에 대해 무엇을 이해하고 무엇을 이해하지 못할 것입니까? 이를 더 넓은 데이터 과학과 연결하십시오.</li>
</ul>
</section>
<section id="과제" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="과제">과제</h3>
<p>이 과제의 목적은 겉보기에 간단해 보이는 것조차 측정의 어려움을 명확히 하고, 따라서 더 복잡한 영역에서 측정 문제의 가능성을 명확히 하는 것입니다.</p>
<p>무, 겨자잎, 루꼴라와 같이 빠르게 자라는 식물의 씨앗을 구하십시오. 씨앗을 심고 사용한 흙의 양을 측정하십시오. 물을 주고 사용한 물의 양을 측정하십시오. 매일 변화를 기록하십시오. 더 일반적으로, 가능한 한 많이 측정하고 기록하십시오. 측정의 어려움에 대한 생각을 기록하십시오. 결국 씨앗이 싹을 틔울 것이고, 어떻게 자라는지 측정해야 합니다.</p>
<ol type="1">
<li>계획:</li>
</ol>
<ul>
<li>데이터셋: 각 관측치는 선거구 이름과 당선된 후보의 정당을 포함해야 합니다.</li>
<li>그래프: 각 정당이 얻은 선거구 수를 보여주는 그래프를 만들어야 합니다.</li>
</ul>
<ol start="2" type="1">
<li>시뮬레이션:</li>
</ol>
<ul>
<li>Quarto 문서를 생성합니다.</li>
<li>필요한 패키지(<code>tidyverse</code>, <code>janitor</code>)를 로드합니다.</li>
<li>선거구에 정당을 무작위로 할당하여 선거 결과를 시뮬레이션합니다: 선거구 번호를 추가한 다음, 6가지 옵션 중 하나를 복원 추출 방식으로 338번 무작위로 선택하기 위해 <code>sample()</code> 함수를 사용합니다.</li>
</ul>
<ol start="3" type="1">
<li>획득:</li>
</ol>
<ul>
<li>캐나다 선거관리위원회에서 CSV 파일을 <a href="https://www.elections.ca/res/rep/off/ovr2021app/53/data_donnees/table_tableau11.csv">여기</a>에서 다운로드합니다.</li>
<li>이름을 정리한 다음, 관심 있는 두 열(“electoral_district_name_nom_de_circonscription” 및 “elected_candidate_candidat_elu”)을 선택합니다. 마지막으로, 프랑스어 부분을 제거하고 이름을 단순화하여 열 이름을 변경합니다.</li>
<li>필요한 열은 당선된 후보에 대한 것입니다. 이 열에는 당선된 후보의 성, 쉼표, 이름, 공백, 그리고 슬래시로 구분된 영어와 프랑스어 정당 이름이 포함되어 있습니다. <code>tidyr</code>의 <code>separate()</code>를 사용하여 이 열을 조각으로 분리한 다음, <code>select()</code>를 사용하여 정당 정보만 유지합니다 (아래에 일부 도우미 코드가 있습니다).</li>
<li>마지막으로, 시뮬레이션한 내용과 일치하도록 정당 이름을 프랑스어에서 영어로 다시 코딩합니다.</li>
</ul>
<p>::: {.cell}</p>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>cleaned_elections_data <span class="ot">&lt;-</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  cleaned_elections_data <span class="sc">|&gt;</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> elected_candidate,</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"Other"</span>, <span class="st">"party"</span>),</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Other)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>:::</p>
<ol start="4" type="1">
<li>탐색:</li>
</ol>
<ul>
<li>2021년 캐나다 연방 선거에서 각 정당이 얻은 선거구 수를 멋진 그래프로 만듭니다.</li>
</ul>
<ol start="5" type="1">
<li>공유:</li>
</ol>
<ul>
<li>무엇을 했고, 왜 했으며, 무엇을 발견했는지에 대해 몇 단락으로 작성합니다. GitHub Gist 링크를 제출합니다.</li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-american1848code" class="csl-entry" role="listitem">
American Medical Association and New York Academy of Medicine. 1848. <em>Code of medical ethics</em>. Academy of Medicine. <a href="https://hdl.handle.net/2027/chi.57108026">https://hdl.handle.net/2027/chi.57108026</a>.
</div>
<div id="ref-tinytable" class="csl-entry" role="listitem">
Arel-Bundock, Vincent. 2024. <em><span>tinytable: Simple and Configurable Tables in <span>“HTML”</span>, <span>“LaTeX”</span>, <span>“Markdown”</span>, <span>“Word”</span>, <span>“PNG”</span>, <span>“PDF”</span>, and <span>“Typst”</span> Formats</span></em>. <a href="https://vincentarelbundock.github.io/tinytable/">https://vincentarelbundock.github.io/tinytable/</a>.
</div>
<div id="ref-citeBarrett" class="csl-entry" role="listitem">
Barrett, Malcolm. 2021. <em>Data science as an atomic habit</em>. <a href="https://malco.io/articles/2021-01-04-data-science-as-an-atomic-habit">https://malco.io/articles/2021-01-04-data-science-as-an-atomic-habit</a>.
</div>
<div id="ref-brokowski2019crispr" class="csl-entry" role="listitem">
Brokowski, Carolyn, 와/과 Mazhar Adli. 2019. <span>“CRISPR Ethics: Moral Considerations for Applications of a Powerful Tool”</span>. <em>Journal of Molecular Biology</em> 431 (1): 88–101. <a href="https://doi.org/10.1016/j.jmb.2018.05.044">https://doi.org/10.1016/j.jmb.2018.05.044</a>.
</div>
<div id="ref-chambliss1989mundanity" class="csl-entry" role="listitem">
Chambliss, Daniel. 1989. <span>“The Mundanity of Excellence: An Ethnographic Report on Stratification and Olympic Swimmers”</span>. <em>Sociological Theory</em> 7 (1): 70–86. <a href="https://doi.org/10.2307/202063">https://doi.org/10.2307/202063</a>.
</div>
<div id="ref-torontohomeless" class="csl-entry" role="listitem">
City of Toronto. 2021. <em>2021 Street Needs Assessment</em>. <a href="https://www.toronto.ca/city-government/data-research-maps/research-reports/housing-and-homelessness-research-and-reports/">https://www.toronto.ca/city-government/data-research-maps/research-reports/housing-and-homelessness-research-and-reports/</a>.
</div>
<div id="ref-janitor" class="csl-entry" role="listitem">
Firke, Sam. 2023. <em><span>janitor: Simple Tools for Examining and Cleaning Dirty Data</span></em>. <a href="https://CRAN.R-project.org/package=janitor">https://CRAN.R-project.org/package=janitor</a>.
</div>
<div id="ref-citeSharla" class="csl-entry" role="listitem">
Gelfand, Sharla. 2022. <em><span>opendatatoronto: Access the City of Toronto Open Data Portal</span></em>. <a href="https://CRAN.R-project.org/package=opendatatoronto">https://CRAN.R-project.org/package=opendatatoronto</a>.
</div>
<div id="ref-GrolemundWickham2011" class="csl-entry" role="listitem">
Grolemund, Garrett, 와/과 Hadley Wickham. 2011. <span>“Dates and Times Made Easy with <span>lubridate</span>”</span>. <em>Journal of Statistical Software</em> 40 (3): 1–25. <a href="https://doi.org/10.18637/jss.v040.i03">https://doi.org/10.18637/jss.v040.i03</a>.
</div>
<div id="ref-hao2019" class="csl-entry" role="listitem">
Hao, Karen. 2019. <span>“<span>This is How AI Bias Really Happens—And Why It’s So Hard To Fix</span>”</span>. <em>MIT Technology Review</em>, 2월. <a href="https://www.technologyreview.com/2019/02/04/137602/this-is-how-ai-bias-really-happensand-why-its-so-hard-to-fix/">https://www.technologyreview.com/2019/02/04/137602/this-is-how-ai-bias-really-happensand-why-its-so-hard-to-fix/</a>.
</div>
<div id="ref-keyes2019" class="csl-entry" role="listitem">
Keyes, Os. 2019. <span>“Counting the Countless”</span>. <em>Real Life</em>. <a href="https://reallifemag.com/counting-the-countless/">https://reallifemag.com/counting-the-countless/</a>.
</div>
<div id="ref-marchese2022" class="csl-entry" role="listitem">
Marchese, David. 2022. <span>“Her Discovery Changed the World. How Does She Think We Should Use It?”</span> <em>The New York Times</em>, 8월. <a href="https://www.nytimes.com/interactive/2022/08/15/magazine/jennifer-doudna-crispr-interview.html">https://www.nytimes.com/interactive/2022/08/15/magazine/jennifer-doudna-crispr-interview.html</a>.
</div>
<div id="ref-neufeld2002wernher" class="csl-entry" role="listitem">
Neufeld, Michael. 2002. <span>“Wernher von Braun, the SS, and concentration camp labor: Questions of moral, political, and criminal responsibility”</span>. <em>German Studies Review</em> 25 (1): 57–78. <a href="https://doi.org/10.2307/1433245">https://doi.org/10.2307/1433245</a>.
</div>
<div id="ref-citeR" class="csl-entry" role="listitem">
R Core Team. 2024. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-unigme" class="csl-entry" role="listitem">
UN IGME. 2021. <span>“Levels and Trends in Child Mortality, 2021”</span>. <a href="https://childmortality.org/wp-content/uploads/2021/12/UNICEF-2021-Child-Mortality-Report.pdf">https://childmortality.org/wp-content/uploads/2021/12/UNICEF-2021-Child-Mortality-Report.pdf</a>.
</div>
<div id="ref-citeggplot" class="csl-entry" role="listitem">
Wickham, Hadley. 2016. <em><span>ggplot2: Elegant Graphics for Data Analysis</span></em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-Wickham2017" class="csl-entry" role="listitem">
———. 2017. <em><span>tidyverse: Easily Install and Load the <span>“Tidyverse”</span></span></em>. <a href="https://CRAN.R-project.org/package=tidyverse">https://CRAN.R-project.org/package=tidyverse</a>.
</div>
<div id="ref-advancedr" class="csl-entry" role="listitem">
———. 2019. <em><span>Advanced R</span></em>. 2nd ed. Chapman; Hall/CRC. <a href="https://adv-r.hadley.nz">https://adv-r.hadley.nz</a>.
</div>
<div id="ref-citestringr" class="csl-entry" role="listitem">
———. 2022. <em><span>stringr: Simple, Consistent Wrappers for Common String Operations</span></em>. <a href="https://CRAN.R-project.org/package=stringr">https://CRAN.R-project.org/package=stringr</a>.
</div>
<div id="ref-tidyverse" class="csl-entry" role="listitem">
Wickham, Hadley, Mara Averick, Jenny Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, 기타. 2019. <span>“<span>Welcome to the Tidyverse</span>”</span>. <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-r4ds" class="csl-entry" role="listitem">
Wickham, Hadley, Mine Çetinkaya-Rundel, 와/과 Garrett Grolemund. (2016년) 2023. <em>R for Data Science</em>. 2nd ed. O’Reilly Media. <a href="https://r4ds.hadley.nz">https://r4ds.hadley.nz</a>.
</div>
<div id="ref-citedplyr" class="csl-entry" role="listitem">
Wickham, Hadley, Romain François, Lionel Henry, 와/과 Kirill Müller. 2022. <em><span>dplyr: A Grammar of Data Manipulation</span></em>. <a href="https://CRAN.R-project.org/package=dplyr">https://CRAN.R-project.org/package=dplyr</a>.
</div>
<div id="ref-citereadr" class="csl-entry" role="listitem">
Wickham, Hadley, Jim Hester, 와/과 Jenny Bryan. 2022. <em><span>readr: Read Rectangular Text Data</span></em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.
</div>
<div id="ref-citetidyr" class="csl-entry" role="listitem">
Wickham, Hadley, Davis Vaughan, 와/과 Maximilian Girlich. 2023. <em><span>tidyr: Tidy Messy Data</span></em>. <a href="https://CRAN.R-project.org/package=tidyr">https://CRAN.R-project.org/package=tidyr</a>.
</div>
<div id="ref-wilford1977" class="csl-entry" role="listitem">
Wilford, John Noble. 1977. <span>“Wernher von Braun, Rocket Pioneer, Dies”</span>. <em>The New York Times</em>, 6월. <a href="https://www.nytimes.com/1977/06/18/archives/wernher-von-braun-rocket-pioneer-dies-wernher-von-braun-pioneer-in.html">https://www.nytimes.com/1977/06/18/archives/wernher-von-braun-rocket-pioneer-dies-wernher-von-braun-pioneer-in.html</a>.
</div>
<div id="ref-citeknitr" class="csl-entry" role="listitem">
Xie, Yihui. 2023. <em><span>knitr: A General-Purpose Package for Dynamic Report Generation in R</span></em>. <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "복사완료!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "복사완료!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/tellingstorieswithdata\.com\/mybook");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./01-introduction_ko.html" class="pagination-link" aria-label="데이터로 이야기하기">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">데이터로 이야기하기</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03-workflow_ko.html" class="pagination-link" aria-label="재현 가능한 워크플로우">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">재현 가능한 워크플로우</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/RohanAlexander/telling_stories/edit/main/02-drinking_from_a_fire_hose_ko.qmd" class="toc-action"><i class="bi bi-github"></i>편집</a></li></ul></div></div></div></footer></body></html>